import{u as fe}from"./theme-Cq7fnomA.js";import{d as ze,i as Se}from"./index-CehbAW_K.js";import{_ as Qe}from"./MainWrapperView.vue_vue_type_style_index_0_lang-BYsi6QkY.js";import{_ as ue}from"./InputView.vue_vue_type_style_index_0_lang-CoFzTMND.js";import{_ as ve,u as Ze}from"./http-tIPYkjHV.js";import{_ as W}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-DqdUcRsS.js";import{d as ye,r as we,o as S,c as M,g as e,h as de,u as q,a as l,n as oe,t as Y,s as et,m as ne,q as se,w as C,e as n,l as j,j as Ie,k as Te,p as ge,_ as Me,v as Ce,x as Ae,f as Ee,F as pe,y as he}from"./index-CHApRfAO.js";import{a as be}from"./axios-BimPEqV4.js";import{t as Ke}from"./trunk-CuaAdnZJ.js";import{_ as tt}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-B_k9BBFt.js";import{h as at}from"./moment-C5S46NFB.js";const lt={key:0,class:"mod-overlay"},st={class:"mod-heading"},ot={class:"mod-body"},ke=ye({__name:"ModalEditorView",props:{modTitle:{type:String,required:!0},modShow:{type:Boolean,default:!0}},emits:["update:modShow"],setup(X,{emit:E}){const b=fe(),B=X,v=E,h=()=>{v("update:modShow",!B.modShow)};return(P,O)=>{const u=we("font-awesome-icon");return X.modShow?(S(),M("div",lt,[e("div",{class:oe(["mod-content",q(b).mTheme])},[e("button",{onClick:h,type:"button",class:"mod-dismiss",style:de({color:q(b).accentColor})},[l(u,{icon:"times"})],4),e("div",st,[e("h4",{class:oe(q(b).textTheme)},[e("b",null,Y(X.modTitle),1)],2)]),e("div",ot,[et(P.$slots,"default")])],2)])):ne("",!0)}}}),nt={class:"itemlist-wrapper"},it={class:"itemlist-group"},ee=ye({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:[String,Number],required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(X,{emit:E}){const b=fe(),B=E,v=X,h=()=>{B("onItemSelect",{id:v.itemId,name:v.itemName,desc:v.itemDesc})};return(P,O)=>{const u=we("font-awesome-icon");return S(),M("div",nt,[e("div",it,[e("span",{style:de({color:q(b).accentColor})},[e("b",null,Y(X.itemName),1)],4),e("span",{style:de({color:q(b).accentColor})},[l(u,{icon:"map-pin"}),se(" "+Y(X.itemDesc),1)],4)]),l(W,{onClick:h,"bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(u,{icon:"plus"})]),_:1})])}}}),rt={class:"chart-containers"},ut={class:"col-md-4"},dt={class:"loaderparent"},ct=ye({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=X,b=n(!0),B=n(null),v=n(null),h=fe(),P=n(15),O=n([]),u=n(0),c=n("Building chart..."),N=n("Initializing..."),x=n(0),A=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),a=$=>new Date($).toISOString(),r=async()=>new Promise(($,k)=>{be.get(ge.baseEnd+"api/Spot/getspots",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}}).then(i=>{$(i.data)}).catch(i=>{console.error(i),k(i)})});j(()=>B.value,async()=>{K(),await r().then($=>{O.value=$})});const K=()=>{if(u.value=5,B.value){const $=Se(B.value);v.value=$,v.value.setOption(A.value)}},H=async()=>new Promise(async($,k)=>{try{const i=[],o=new Set,g=O.value.length;let f=0;N.value="Setting up...";for(let _=0;_<O.value.length;_++){N.value=`Applying filter for ${O.value[_].spotName}...`;const Q={id:O.value[_].id+"",date:a(E.dateFilter),timespan:E.timeFilter+"",firstrequest:b.value},F=await be.post(ge.baseEnd+"api/Data/getsingledata",Q,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});for(let z=0;z<F.data.length;z++)setTimeout(()=>{x.value++},1);const m=F.data.map(z=>{const te=z.timestamp.replace(".",":").split("T")[1],[ae,ce]=te.split(":"),w=`${ae}:${ce}`;return o.add(w),w}),D=F.data.map(z=>parseFloat(z.psiValue));i.push({psies:D,categories:m}),f+=1;const G=f/g*90;u.value=Math.round(G)}const V=Array.from(o).sort((_,Q)=>{const[F,m]=_.split(":").map(Number),[D,G]=Q.split(":").map(Number);return F!==D?F-D:m-G}),ie=i.map((_,Q)=>{const F={};_.categories.forEach((D,G)=>{F[D]=_.psies[G]});const m=V.map(D=>F[D]!==void 0?parseFloat(F[D]):null);return{name:`${O.value[Q].spotName}`,type:"line",data:m,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(D){let G=0;const z=i[D.seriesIndex].psies.length;for(let U=0;U<z;U++)i[D.seriesIndex].psies[U]!==null&&(G=i[D.seriesIndex].psies[U].toFixed(2));return G}}}}),J={backgroundColor:"transparent",legend:{data:ie.map(_=>({name:_.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:V,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(_){return _.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${h.accentColor}`,rotate:-45,interval:_=>{const[Q,F]=V[_].split(":").map(Number);return F%P.value===0},formatter:function(_){return _}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:ie};$(J)}catch(i){console.error(i),k(i)}});return j(()=>O.value,async()=>{await H().then($=>{v.value.setOption($),N.value="Drawing series...",u.value=99.99,setTimeout(()=>{u.value=100,x.value=0},2e3)})}),j(()=>P.value,async()=>{u.value=5,N.value="Setting up...",c.value="Options & filter updated. Rebuilding chart with new series...",v.value&&(v.value=null),K(),setTimeout(async()=>{await H().then($=>{v.value.setOption($),u.value=99.99,N.value="Drawing series...",setTimeout(()=>{u.value=100,x.value=0},2e3)})},1e3)}),Ie(()=>{K()}),Te(()=>{B.value&&ze(B.value)}),($,k)=>(S(),M("div",rt,[e("h3",{style:{padding:"15px"},class:oe([`${q(h).textTheme}`])},k[1]||(k[1]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",ut,[l(ve,{"in-label":"X-Axis Time Split","model-value":P.value,"onUpdate:modelValue":k[0]||(k[0]=i=>P.value=i)},{default:C(()=>k[2]||(k[2]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:B,style:{width:"100%",position:"relative",height:"90%"}},null,512),u.value!=100?(S(),M("div",{key:0,class:oe(["chartloader",[`${q(h).mTheme}`]])},[k[3]||(k[3]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:oe([`${q(h).textTheme}`])},Y(c.value)+" ("+Y(x.value)+" objects collected)",3),e("span",{style:de({color:`${q(h).accentColorSecondary}`})},Y(N.value),5),e("div",dt,[e("span",{style:de({width:`${u.value}%`,background:`${q(h).accentColor}`}),class:"loaderinner"},null,4)])],2)):ne("",!0)]))}}),mt=Me(ct,[["__scopeId","data-v-aab0eb87"]]),pt={class:"chart-containers"},vt={class:"col-md-4"},ft={class:"loaderparent"},yt=ye({__name:"LiveMonitorSegmentView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=Ke(),b=X,B=n(!0),v=n(null),h=n(null),P=fe(),O=n(15),u=n([]),c=n(0),N=n("Building chart..."),x=n("Initializing..."),A=n(0),a=n("trunk1"),r=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),K=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),H=o=>new Date(o).toISOString(),$=()=>{u.value=E.getTrunk(a.value).spot};j(()=>v.value,()=>{k(),$()});const k=()=>{if(c.value=5,v.value){const o=Se(v.value);h.value=o,h.value.setOption(r.value)}},i=async()=>new Promise(async(o,g)=>{try{const f=[],V=new Set,ie=u.value.length;let J=0;x.value="Setting up...";for(let m=0;m<u.value.length;m++){x.value=`Applying filter for ${u.value[m].spotName}...`;const D={id:u.value[m].id+"",date:H(b.dateFilter),timespan:b.timeFilter+"",firstrequest:B.value},G=await be.post(ge.baseEnd+"api/Data/getsingledata",D,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});for(let ae=0;ae<G.data.length;ae++)setTimeout(()=>{A.value++},1);const z=G.data.map(ae=>{const w=ae.timestamp.replace(".",":").split("T")[1],[p,Z]=w.split(":"),I=`${p}:${Z}`;return V.add(I),I}),U=G.data.map(ae=>parseFloat(ae.psiValue));f.push({psies:U,categories:z}),J+=1;const te=J/ie*90;c.value=Math.round(te)}const _=Array.from(V).sort((m,D)=>{const[G,z]=m.split(":").map(Number),[U,te]=D.split(":").map(Number);return G!==U?G-U:z-te}),Q=f.map((m,D)=>{const G={};m.categories.forEach((U,te)=>{G[U]=m.psies[te]});const z=_.map(U=>G[U]!==void 0?parseFloat(G[U]):null);return{name:`${u.value[D].spotName}`,type:"line",data:z,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:2},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(U){let te=0;const ae=f[U.seriesIndex].psies.length;for(let ce=0;ce<ae;ce++)f[U.seriesIndex].psies[ce]!==null&&(te=f[U.seriesIndex].psies[ce].toFixed(2));return te}}}}),F={backgroundColor:"transparent",legend:{data:Q.map(m=>({name:m.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:_,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(m){return m.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${P.accentColor}`,rotate:-45,interval:m=>{const[D,G]=_[m].split(":").map(Number);return G%O.value===0},formatter:function(m){return m}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:Q};o(F)}catch(f){console.error(f),g(f)}});return j(()=>u.value,async()=>{await i().then(o=>{h.value.setOption(o),x.value="Drawing series...",c.value=99.99,setTimeout(()=>{c.value=100,A.value=0},2e3)})}),j(()=>O.value,async()=>{c.value=5,x.value="Setting up...",N.value="Options & filter updated. Rebuilding chart with new series...",h.value&&(h.value=null),k(),setTimeout(async()=>{await i().then(o=>{h.value.setOption(o),c.value=99.99,x.value="Drawing series...",setTimeout(()=>{c.value=100,A.value=0},2e3)})},1e3)}),Ie(()=>{k()}),Te(()=>{v.value&&ze(v.value)}),j(()=>a.value,()=>{u.value=E.getTrunk(a.value).spot,h.value.clear(),h.value.setOption(K),k()}),(o,g)=>(S(),M("div",pt,[e("h3",{style:{padding:"15px"},class:oe([`${q(P).textTheme}`])},g[2]||(g[2]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",vt,[l(ve,{"in-label":"Select Spot","model-value":a.value,"onUpdate:modelValue":g[0]||(g[0]=f=>a.value=f)},{default:C(()=>g[3]||(g[3]=[e("option",{value:"trunk1"},"MGS BJG - BOOSTER",-1),e("option",{value:"trunk2"},"MGS KAS - MOS SPPP",-1),e("option",{value:"trunk3"},"SGL LINE",-1),e("option",{value:"trunk4"},"BETUNG - BAJUBANG",-1)])),_:1},8,["model-value"]),l(ve,{"in-label":"X-Axis Time Split","model-value":O.value,"onUpdate:modelValue":g[1]||(g[1]=f=>O.value=f)},{default:C(()=>g[4]||(g[4]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:v,style:{width:"100%",position:"relative",height:"100%"}},null,512),c.value!=100?(S(),M("div",{key:0,class:oe(["chartloader",[`${q(P).mTheme}`]])},[g[5]||(g[5]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:oe([`${q(P).textTheme}`])},Y(N.value)+" ("+Y(A.value)+" objects collected)",3),e("span",{style:de({color:`${q(P).accentColorSecondary}`})},Y(x.value),5),e("div",ft,[e("span",{style:de({width:`${c.value}%`,background:`${q(P).accentColor}`}),class:"loaderinner"},null,4)])],2)):ne("",!0)]))}}),ht=Me(yt,[["__scopeId","data-v-95133cbd"]]),gt={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},bt=["id"],St={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},wt={contenteditable:"true",spellcheck:"false"},xt=ye({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(X,{emit:E}){const b=n([]),B=n([]),v=E,h=fe(),P=n(!1),O=n(!0),u=n(null),c=n(null),N=n(!1),x=n(!1);let A;const a=X,r=n(a.safeMark),K=n(!1),H=n(a.yMax),$=n(a.yMin),k=n(a.tickAmount),i=n(50),o=n(a.dataFetchInterval),g=n(a.curveType),f=n(!0),V=n(!0);function ie(w,p){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:k.value,axisLine:{show:!0,lineStyle:{color:h.accentColor}},splitLine:{show:V,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:0,max:w,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:f,lineStyle:{color:"#ddd",type:"dashed"}},interval:a.yInterval,axisLine:{show:!0,lineStyle:{color:h.accentColor}}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:a.curveType,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(Z){const I=Z.dataIndex,le=J.value.series[0].data;let me=0;for(let d=0;d<le.length;d++)le[d]>me&&(me=le[d]);let T=0,L=0;for(let d=0;d<le.length;d++){const t=parseInt(le[d]);(parseInt(a.spotId)==1&&t>=128&&t<=150||parseInt(a.spotId)==2&&t>=70&&t<=100||parseInt(a.spotId)==3&&t>=120&&t<=150||parseInt(a.spotId)==4&&t>=16&&t<=38||parseInt(a.spotId)==5&&t>=250&&t<=300||parseInt(a.spotId)==6&&t>=225&&t<=250||parseInt(a.spotId)==7&&t>=50&&t<=100||parseInt(a.spotId)==8&&t>=200&&t<=260||parseInt(a.spotId)==9&&t>=38&&t<=50||parseInt(a.spotId)==10&&t>=10&&t<=56||parseInt(a.spotId)==11&&t>=7&&t<=35||parseInt(a.spotId)==12&&t>=38&&t<=50||parseInt(a.spotId)==13&&t>=3&&t<=30||parseInt(a.spotId)==14&&t>=38&&t<=50||parseInt(a.spotId)==15&&t>=90&&t<=120||parseInt(a.spotId)==16&&t>=30&&t<=60)&&(T+=t,L++)}const y=T/L,s=le.length-1;if(I===s){const d=Z.value,t=me,R=(t-d)/t*100;return`Curr: ${Z.value}
Avg: ${y.toFixed(2)}
Del: ${R>0?"-"+R.toFixed(2):"+"+R.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:r.value}]}}]}}j(()=>r.value,()=>{var w;J.value.series[1].markLine.data[0].yAxis=r.value,(w=c.value)==null||w.setOption(J.value)});const J=n(ie(a.yMax,a.curveType));j(()=>[H.value,$.value,k.value,o.value,g.value,i.value,f.value,V.value],()=>{c.value.setOption(J.value)});const _=()=>{var w;!c.value&&u.value&&(c.value=Se(u.value)),(w=c.value)==null||w.setOption(J.value)},Q=w=>new Date(w).toISOString(),F=async()=>{var p;const w={id:a.spotId,date:Q(a.filterDate),timespan:a.filterTime+""};try{const I=(await be.post(ge.baseEnd+"api/Data/getalldata",w,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data,le=I.map(T=>{const y=T.timestamp.replace(".",":").split("T")[1],[s,d]=y.split(":");return`${s}:${d}`}),me=I.map(T=>parseFloat(T.psiValue).toFixed(2)).map(T=>parseFloat(T));b.value=le,B.value=me,me.length?(N.value=!1,J.value.xAxis[0].data=le,J.value.series[0].data=me,(p=c.value)==null||p.setOption(J.value)):(N.value=!0,O.value=!1)}catch(Z){console.error("Error fetching chart data:",Z)}},m=()=>{const w=new Date().toISOString().slice(0,10);if(a.filterDate.slice(0,10)!==w){A&&clearInterval(A);return}else A&&clearInterval(A),A=setInterval(()=>{x.value||F()},o.value)};j(()=>u.value,()=>{u.value&&_()}),j(()=>a.gridview,()=>{c.value&&setTimeout(()=>{var w;(w=c.value)==null||w.resize()},500)}),j(()=>a.dataFetchInterval,()=>{o.value=a.dataFetchInterval,m()}),j(()=>[u.value],()=>{F(),m()}),Te(()=>{clearInterval(A)});let D=null;j(()=>[a.filterDate,a.filterTime,a.yMax,a.yMin,a.tickAmount,a.curveType],()=>{D&&clearTimeout(D),D=setTimeout(()=>{H.value=a.yMax,$.value=a.yMin,k.value=a.tickAmount,g.value=a.curveType,o.value=a.dataFetchInterval,J.value=ie(a.yMax,a.curveType),O.value=!0,P.value=!1},300)});let G=null;j(()=>[H.value,$.value,k.value,o.value,g.value],()=>{G&&clearTimeout(G),G=setTimeout(()=>{F()},500)}),h.$subscribe((w,p)=>{setTimeout(()=>{F()},2e3)});const z=()=>{v("onChartClose",a.spotId)},U=()=>{K.value=!K.value},te=()=>{K.value=!1},ae=()=>{x.value=!x.value,x.value?v("onPause",a.spotId):v("onResume",a.spotId)};j(()=>[a.isDataPaused],()=>{x.value=a.isDataPaused,x.value?v("onPause",a.spotId):v("onResume",a.spotId)}),j(()=>x.value,()=>{x.value?v("onPause",a.spotId):v("onResume",a.spotId)}),j(()=>h.asideVisible,()=>{c.value&&setTimeout(()=>{var w;(w=c.value)==null||w.resize()},500)});const ce=()=>{v("onDrawingMode",a.spotId)};return(w,p)=>{const Z=we("font-awesome-icon");return S(),M(pe,null,[l(ke,{"mod-show":K.value,"onUpdate:modShow":p[9]||(p[9]=I=>K.value=I),"mod-title":`${a.chartName} Preferences`},{default:C(()=>[l(ue,{"in-type":"number","in-label":"Safemark","model-value":r.value,"onUpdate:modelValue":p[0]||(p[0]=I=>r.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":H.value,"onUpdate:modelValue":p[1]||(p[1]=I=>H.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":$.value,"onUpdate:modelValue":p[2]||(p[2]=I=>$.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Interval","model-value":i.value,"onUpdate:modelValue":p[3]||(p[3]=I=>i.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":k.value,"onUpdate:modelValue":p[4]||(p[4]=I=>k.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":o.value,"onUpdate:modelValue":p[5]||(p[5]=I=>o.value=I)},null,8,["model-value"]),l(ve,{"in-label":"Curve Type","model-value":g.value,"onUpdate:modelValue":p[6]||(p[6]=I=>g.value=I)},{default:C(()=>p[10]||(p[10]=[e("option",{value:"true"},"Smooth",-1),e("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),e("div",gt,[e("label",null,[Ce(e("input",{type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=I=>f.value=I)},null,512),[[Ae,f.value]]),p[11]||(p[11]=se(" Show Y-Axis Minor Split "))]),e("label",null,[Ce(e("input",{type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=I=>V.value=I)},null,512),[[Ae,V.value]]),p[12]||(p[12]=se(" Show X-Axis Split "))])]),l(W,{onClick:te,"bt-type":"button","bt-disabled":!1},{default:C(()=>p[13]||(p[13]=[se("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),e("div",{id:`chart${a.spotId}`,style:de({width:a.gridview?q(h).asideVisible?"680px":"600.5px":"100%"}),class:oe(["chartwrap",x.value?"chartwrap-paused":""])},[a.showUis?(S(),M("div",St,[l(W,{onClick:ce,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:C(()=>[l(Z,{icon:"edit"})]),_:1}),l(W,{onClick:ae,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:C(()=>[l(Z,{icon:x.value?"pause":"play"},null,8,["icon"])]),_:1}),B.value.length?(S(),Ee(W,{key:0,onClick:U,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(Z,{icon:"sliders"})]),_:1})):ne("",!0),l(W,{onClick:z,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(Z,{icon:"close"})]),_:1})])):ne("",!0),l(tt,{"id-spot":parseInt(a.spotId)},null,8,["id-spot"]),e("h4",{style:de({textAlign:"center",color:q(h).accentColor})},[e("b",wt,"SPOT: "+Y(a.chartName),1)],4),B.value.length?(S(),M("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:oe(q(h).textTheme)}," Displaying data for last "+Y(a.filterTime)+" hour(s) on "+Y(a.filterDate),3)):ne("",!0),e("div",{ref_key:"chartRef",ref:u,style:{width:"100%",height:"600px"}},null,512)],14,bt)],64)}}}),kt={class:"cl-filter"},It={key:0,class:"trunk-selector"},Tt={style:{width:"500px",display:"flex",padding:"15px","flex-flow":"column"}},Mt=["value"],Ct={style:{width:"500px",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem",position:"relative"}},At={style:{display:"flex","flex-flow":"column","align-items":"center"}},$t={style:{display:"flex","flex-flow":"row wrap","justify-content":"center"}},_t=["onClick"],Ot=ye({__name:"ChartLayerView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=n(null),b=n(null),B=n(Ke().getAllTrunk());n(Object.keys(B)),fe();const v=i=>new Date(i).toISOString(),h=X,P=n(h.dateFilter),O=n("15"),u=n({legend:{show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",name:"Time",data:[],nameGap:40,boundaryGap:0,nameLocation:"center",axisLabel:{show:!0,rotate:45,interval:i=>a.value[i]===void 0?!1:a.value[i].split(":")[1]%O.value===0},axisSplitLine:{show:!0,lineStyle:{type:"solid"}},axisLine:{show:!0,lineStyle:{type:"solid"}}},yAxis:{type:"value",min:0,max:550,interval:50,minorTick:{show:!0},scale:!0,nameLocation:"center",nameGap:50,boundaryGap:0,splitLine:{show:!0,lineStyle:{type:"solid",color:"#00000055"}},minorSplitLine:{show:!0,lineStyle:{type:"dashed",color:"#00000022"}},axisTick:{show:!0},name:"Pressure (PSI)",axisLine:{show:!0}},series:[]});j(()=>O.value,()=>{u.value.xAxis.axisLabel.interval=i=>a.value[i].split(":")[1]%O.value===0,x()}),j(()=>P.value,()=>{Object.keys(c.value).length>0&&H()});const c=n({}),N=n(),x=()=>{b.value.setOption(u.value)};j(()=>E.value,()=>{b.value=Se(E.value),x()});const A=n({}),a=n([]),r=n(!1),K=()=>{const i=N.value,o=B.value[i].name,g=B.value[i].spot;c.value[o]=g,r.value=!1,A.value={},a.value=[],b.value.clear(),u.value.series=[],b.value.setOption(u.value),H()},H=()=>{Object.keys(c.value).forEach(async i=>{const o=[],g=[];for(let f=0;f<c.value[i].length;f++){const ie={id:c.value[i][f].id+"",date:v(P.value),timespan:h.timeFilter+"",firstrequest:!0},_=(await be.post(ge.baseEnd+"api/Data/getsingledata",ie,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data,Q=_.map(m=>m.psiValue.toFixed(2));g.push({type:"line",data:Q,smooth:!1,symbol:"none",name:c.value[i][f].name});const F=_.map(m=>at(m.timestamp).format("HH:mm"));for(let m=0;m<F.length;m++)o.includes(F[m])||o.push(F[m])}A.value[i]=g,a.value=o})};j(()=>A,()=>{b.value.clear(),b.value.setOption(u.value),$()},{deep:!0});const $=()=>{u.value.xAxis.data=a.value,Object.keys(A.value).forEach(i=>{for(let o=0;o<A.value[i].length;o++)u.value.series.push(A.value[i][o])}),b.value.setOption(u.value)},k=i=>{delete c.value[i],H()};return(i,o)=>{const g=we("font-awesome-icon");return S(),M(pe,null,[e("div",kt,[r.value?(S(),M("div",It,[e("button",{onClick:o[0]||(o[0]=f=>r.value=!r.value),type:"button",class:"drwclose"},[l(g,{icon:"close"})]),e("div",Tt,[o[7]||(o[7]=e("h5",null,[e("b",null,"Trunkline Preference")],-1)),l(ve,{"in-label":"Trunkline",style:{width:"100%"},"model-value":N.value,"onUpdate:modelValue":o[1]||(o[1]=f=>N.value=f)},{default:C(()=>[o[5]||(o[5]=e("option",{selected:"",value:""},"Select Trunkline...",-1)),(S(!0),M(pe,null,he(B.value,(f,V)=>(S(),M("option",{key:V,value:V},Y(f.name),9,Mt))),128))]),_:1},8,["model-value"]),l(W,{onClick:K,"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content",padding:"13px",width:"170px"}},{default:C(()=>o[6]||(o[6]=[se("Load into Chart")])),_:1})])])):ne("",!0),o[9]||(o[9]=e("h3",null,[e("b",null,"Chart Layer")],-1)),e("div",Ct,[l(ue,{"in-type":"date","in-label":"Date Filter","model-value":P.value,"onUpdate:modelValue":o[2]||(o[2]=f=>P.value=f)},null,8,["model-value"]),l(ve,{"in-label":"X-Axis Gap",style:{width:"100%"},"model-value":O.value,"onUpdate:modelValue":o[3]||(o[3]=f=>O.value=f)},{default:C(()=>o[8]||(o[8]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"]),l(W,{onClick:o[4]||(o[4]=f=>r.value=!r.value),"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content","margin-top":"36px",padding:"13px"}},{default:C(()=>[l(g,{icon:"plus"})]),_:1})])]),e("div",{ref_key:"chart",ref:E,style:{width:"100%",height:"480px"}},null,512),o[11]||(o[11]=e("hr",null,null,-1)),e("div",At,[o[10]||(o[10]=e("label",null,[e("b",null,"Active Trunklines")],-1)),e("div",$t,[(S(!0),M(pe,null,he(c.value,(f,V)=>(S(),M("span",{class:"active-trunklines",key:V,onClick:ie=>k(V),style:{margin:"5px"}},[e("span",null,Y(V),1)],8,_t))),128))])])],64)}}}),Gt=Me(Ot,[["__scopeId","data-v-f6bf75aa"]]),Dt={key:0,class:"chart-layer"},Lt={class:"chart-layer-inner"},Pt={key:1,class:"live-window"},Nt={key:2,class:"live-window"},Vt={key:3,class:"drw-wd"},Ft={class:"row"},Bt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Ut={class:"col-md-12"},Rt={class:"col-md-12"},jt={style:{display:"flex","flex-flow":"row nowrap",gap:"0.4rem"}},qt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},zt={class:"spot-reading-control"},Et={class:"spot-basket"},Kt=["onClick","onDblclick"],Ht={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},$e=1,Jt=15,_e=2,Wt=16,Oe=3,Ge=4,De=5,Le=6,Pe=7,Ne=8,Ve=9,Fe=10,Be=11,Ue=12,Re=13,je=14,qe=17,ra=ye({__name:"MonitoringFol",setup(X){const E=Ze(),b=fe();b.asideToggle(!0);const B=n(null),v=n(!1),h=n(350),P=n(0),O=n(30),u=n(7e3),c=n(!1),N=n(""),x=n(!1),A=n(24),a=n(!1),r=n([]),K=n(0),H=y=>Object.keys(y),$=()=>{K.value<r.value.length&&setTimeout(()=>{K.value++,$()},100)},k=()=>{const y=new Date,s=y.getFullYear(),d=String(y.getMonth()+1).padStart(2,"0"),t=String(y.getDate()).padStart(2,"0"),re=`${s}-${d}-${t}`;N.value=re};Ie(()=>{k(),$()});const i=()=>{a.value=!0},o=y=>{a.value=!1,r.value.some(d=>d[y.id])?b.notifyShowError("Selected spot already displayed"):r.value.push({[y.id]:y})},g=y=>{r.value=r.value.filter(s=>!s[y])};(()=>{r.value.push({1:{id:$e,name:"MGS BJG (1)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),r.value.push({15:{id:Jt,name:"MGS BJG (2)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),r.value.push({2:{id:_e,name:"BOOSTER (MOS TPN)",desc:"Tempino",safemark:85,yMax:400,yInterval:50}}),r.value.push({16:{id:Wt,name:"MGS BJG (3)",desc:"Tempino",safemark:85,yMax:100,yInterval:10}}),r.value.push({3:{id:Oe,name:"MGS KAS",desc:"Kenali Asam Atas",safemark:140,yMax:400,yInterval:50}}),r.value.push({4:{id:Ge,name:"MOS TPN",desc:"Tempino",safemark:25,yMax:100,yInterval:10}}),r.value.push({5:{id:De,name:"GS 02 SGL",desc:"Sungai Gelam",safemark:287,yMax:500,yInterval:50}}),r.value.push({6:{id:Le,name:"GS 02 SGL (2)",desc:"Sungai Gelam",safemark:0,yMax:400,yInterval:50}}),r.value.push({7:{id:Pe,name:"GS 02 SGL (3)",desc:"Sungai Gelam",safemark:0,yMax:200,yInterval:50}}),r.value.push({8:{id:Ne,name:"GS 01 KTT",desc:"Ketaling",safemark:242,yMax:500,yInterval:50}}),r.value.push({9:{id:Ve,name:"MGS TPN",desc:"Tempino",safemark:43,yMax:300,yInterval:50}}),r.value.push({10:{id:Fe,name:"0 KM SP BETUNG",desc:"Betung",safemark:0,yMax:400,yInterval:50}}),r.value.push({11:{id:Be,name:"5.3 KM SIMP. PASAR GAJAH (5.3)",desc:"Pasar Gajah",safemark:0,yMax:300,yInterval:50}}),r.value.push({12:{id:Ue,name:"9.5 KM SANDTRAP II (4.2)",desc:"Sandtrap",safemark:0,yMax:100,yInterval:10}}),r.value.push({13:{id:Re,name:"13.8 KM MGS BJG (4.3)",desc:"Bajubang",safemark:0,yMax:200,yInterval:20}}),r.value.push({14:{id:je,name:"MINIATUR (CIP)",desc:"Miniatur",safemark:0,yMax:100,yInterval:10}}),r.value.push({17:{id:qe,name:"CF KAS",desc:"Kenali Asam Atas",safemark:140,yMax:100,yInterval:10}})})();const V=n(!1),ie=()=>{V.value=!V.value},J=()=>{V.value=!1,b.notifyShow("Options has been applied")},_=y=>{const s=document.getElementById("chart"+y);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},Q=()=>{v.value=!v.value},F=y=>{r.value=r.value.filter(s=>!s[y])};let m=n([]);const D=y=>{m.value.push({id:y});const s=`spotdata-${y}`,d=document.querySelector(`.${s}`);d?(d.style.background="red",d.style.color="white"):console.warn(`Element dengan class ${s} gak ditemukan bro!`)},G=y=>{const s=`spotdata-${y}`,d=document.querySelector(`.${s}`);d?(d.style.background="#000",d.style.color="#fff"):console.warn(`Element dengan class ${s} gak ditemukan bro!`);const t=m.value.findIndex(re=>re.id===y);m.value.splice(t,1)},z=y=>{const s=Object.keys(y)[0];return y[s].id},U=()=>{c.value=!1},te=()=>{c.value=!0},ae=y=>new Date(y).toISOString(),ce=async y=>new Promise(async(s,d)=>{try{const t={id:y,date:ae(N.value),timespan:A.value+"",firstrequest:!1},re=await E.httpPost("api/Data/getsingledata",t).then(R=>{const He=R.map(xe=>{const We=xe.timestamp.replace(".",":").split("T")[1],[Xe,Ye]=We.split(":");return`${Xe}:${Ye}`}),Je=R.map(xe=>parseFloat(xe.psiValue).toFixed(2));s({cats:He,series:Je})}).catch(R=>{d(R)})}catch(t){d(t)}}),w=n(!1),p=y=>{c.value=!0,w.value=!0,setTimeout(()=>{Z(y)},3e3)},Z=async y=>{const s=Se(B.value);await ce(y).then(d=>{const t=d.cats,re=d.series,R={graphic:[{type:"rect",shape:{x:0,y:0,width:s.getWidth(),height:s.getHeight()},style:{fill:"transparent"}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:t},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:re,color:t.map(()=>`${b.accentColor}`)}]};s.setOption(R),s.setOption({yAxis:{name:"Pressure (PSI)"}})})},I=()=>{w.value=!1},le=n(!1),me=()=>{le.value=!1},T=n(!1),L=n(!1);return j(()=>L.value,()=>{L.value?c.value=!0:c.value=!1}),(y,s)=>{const d=we("font-awesome-icon");return S(),M(pe,null,[L.value?(S(),M("div",Dt,[e("div",Lt,[e("button",{onClick:s[0]||(s[0]=t=>L.value=!L.value),type:"button",class:"drwclose"},[l(d,{icon:"close"})]),l(Gt,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])])])):ne("",!0),T.value?(S(),M("div",Pt,[e("div",{class:oe(["live-window-inner",[`${q(b).mTheme}`]])},[e("button",{onClick:s[1]||(s[1]=t=>T.value=!T.value),type:"button",class:"drwclose"},[l(d,{icon:"close"})]),l(ht,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])],2)])):ne("",!0),le.value?(S(),M("div",Nt,[e("div",{class:oe(["live-window-inner",[`${q(b).mTheme}`]])},[e("button",{type:"button",class:"drwclose",onClick:me},[l(d,{icon:"close"})]),l(mt,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])],2)])):ne("",!0),w.value?(S(),M("div",Vt,[e("div",{class:"drw-inner",style:de({background:`${q(b).themeDarkColor}`})},[e("button",{onClick:I,type:"button",style:de({color:`${q(b).accentColor}`}),class:"drwclose"},[l(d,{icon:"close"})],4),e("div",{ref_key:"eCharts",ref:B,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ne("",!0),l(ke,{"mod-show":a.value,"onUpdate:modShow":s[2]||(s[2]=t=>a.value=t),"mod-title":"Select spot"},{default:C(()=>[l(ee,{onOnItemSelect:o,"item-id":$e,"item-name":"MGS BJG","item-desc":"Bajubang","item-safemark":136}),l(ee,{onOnItemSelect:o,"item-id":_e,"item-name":"BOOSTER (MOS TPN)","item-desc":"Tempino","item-safemark":85}),l(ee,{onOnItemSelect:o,"item-id":Oe,"item-name":"MGS KAS","item-desc":"Kenali Asam Atas","item-safemark":140}),l(ee,{onOnItemSelect:o,"item-id":Ge,"item-name":"MOS TPN","item-desc":"Tempino","item-safemark":25}),l(ee,{onOnItemSelect:o,"item-id":De,"item-name":"GS 02 SGL","item-desc":"Sungai Gelam","item-safemark":287}),l(ee,{onOnItemSelect:o,"item-id":Le,"item-name":"GS 02 SGL (2)","item-desc":"Sungai Gelam","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Pe,"item-name":"GS 02 SGL (3)","item-desc":"Sungai Gelam","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Ne,"item-name":"GS 01 KTT","item-desc":"Ketaling","item-safemark":242}),l(ee,{onOnItemSelect:o,"item-id":Ve,"item-name":"MGS TPN","item-desc":"Tempino","item-safemark":43}),l(ee,{onOnItemSelect:o,"item-id":Fe,"item-name":"0 KM SP BETUNG","item-desc":"Betung","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Be,"item-name":"5.3 KM SIMP. PASAR GAJAH (5.3)","item-desc":"Pasar Gajah","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Ue,"item-name":"9.5 KM SANDTRAP II (4.2)","item-desc":"Sandtrap","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Re,"item-name":"13.8 KM MGS BJG (4.3)","item-desc":"Bajubang","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":je,"item-name":"MINIATUR (CIP)","item-desc":"Miniatur","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":qe,"item-name":"CF KAS","item-desc":"Kenali Asam Atas","item-safemark":0})]),_:1},8,["mod-show"]),l(ke,{"mod-show":V.value,"onUpdate:modShow":s[8]||(s[8]=t=>V.value=t),"mod-title":"Global Chart Preference"},{default:C(()=>[e("p",{style:de({color:q(b).accentColor})},"These parameters applies to all displayed charts",4),l(ue,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":h.value,"onUpdate:modelValue":s[3]||(s[3]=t=>h.value=t)},null,8,["model-value"]),l(ue,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":P.value,"onUpdate:modelValue":s[4]||(s[4]=t=>P.value=t)},null,8,["model-value"]),l(ue,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":O.value,"onUpdate:modelValue":s[5]||(s[5]=t=>O.value=t)},null,8,["model-value"]),l(ue,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":u.value,"onUpdate:modelValue":s[6]||(s[6]=t=>u.value=t)},null,8,["model-value"]),l(ve,{"in-label":"Curve Type","model-value":x.value,"onUpdate:modelValue":s[7]||(s[7]=t=>x.value=t)},{default:C(()=>s[14]||(s[14]=[e("option",{value:!0},"Smooth",-1),e("option",{value:!1},"Straight",-1)])),_:1},8,["model-value"]),l(W,{onClick:J,"bt-type":"button","bt-disabled":!1},{default:C(()=>s[15]||(s[15]=[se("Dismiss")])),_:1})]),_:1},8,["mod-show"]),l(Qe,{"context-title":"Monitoring FOL"},{default:C(()=>[e("div",Ft,[e("div",Bt,[l(W,{onClick:ie,"bt-size":"small","bt-disabled":!1},{default:C(()=>[l(d,{icon:"sliders"}),s[16]||(s[16]=se(" Global Chart Preferences"))]),_:1})]),e("div",Ut,[l(ue,{"in-type":"date","in-label":"Date Filter","model-value":N.value,"onUpdate:modelValue":s[9]||(s[9]=t=>N.value=t)},null,8,["model-value"]),l(ve,{"in-label":"Time Range Filter","model-value":A.value,"onUpdate:modelValue":s[10]||(s[10]=t=>A.value=t)},{default:C(()=>s[17]||(s[17]=[e("option",{value:"1"},"1 Hour",-1),e("option",{value:"3"},"3 Hours",-1),e("option",{value:"6"},"6 Hours",-1),e("option",{value:"12"},"12 Hours",-1),e("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),e("div",Rt,[e("div",jt,[l(W,{onClick:s[11]||(s[11]=t=>le.value=!le.value),"bt-size":"small","bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[18]||(s[18]=se(" Live Monitor "))]),_:1}),l(W,{"bt-size":"small",onClick:s[12]||(s[12]=t=>T.value=!T.value),"bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[19]||(s[19]=se("Trunkline Monitor "))]),_:1}),l(W,{"bt-size":"small",onClick:s[13]||(s[13]=t=>L.value=!L.value),"bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[20]||(s[20]=se("Chart Layer "))]),_:1})])]),e("div",qt,[l(W,{onClick:i,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(d,{icon:"add"}),s[21]||(s[21]=se(" Add Chart"))]),_:1})]),e("div",zt,[l(W,{onClick:U,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(d,{icon:"play"}),s[22]||(s[22]=se(" Resume All"))]),_:1}),l(W,{onClick:te,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(d,{icon:"pause"}),s[23]||(s[23]=se(" Pause All"))]),_:1})]),e("div",Et,[(S(!0),M(pe,null,he(r.value,(t,re)=>(S(),M("span",{title:"Click to navigate to this spot",key:re,class:oe(["spot-data",[`spotdata-${z(t)}`]]),onClick:R=>_(Object.keys(t)[0]),onDblclick:R=>g(Object.keys(t)[0])},[(S(!0),M(pe,null,he(H(t),R=>(S(),M("span",{key:R},Y(t[R].name+" - "+t[R].desc),1))),128))],42,Kt))),128))]),r.value.length?(S(),M("div",Ht,[l(W,{onClick:Q,"bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(d,{icon:v.value?"grip-vertical":"expand"},null,8,["icon"]),se(" "+Y(v.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ne("",!0),e("div",{style:{},class:oe(v.value?"chart-basket-gridview":"chart-basket-fullview")},[(S(!0),M(pe,null,he(r.value,(t,re)=>(S(),M("div",{key:re},[(S(!0),M(pe,null,he(H(t),R=>(S(),M("div",{key:R,class:"chart-wrapper"},[re<K.value?(S(),Ee(xt,{key:0,onOnChartReady:$,id:"chart"+Object.keys(t)[0],"chart-name":t[R].name,"filter-date":N.value,"filter-time":A.value,"safe-mark":t[R].safemark,"spot-id":R,"curve-type":x.value,"y-max":t[R].yMax,"y-min":P.value,"tick-amount":O.value,"y-interval":t[R].yInterval,"data-fetch-interval":u.value,gridview:v.value,"is-data-paused":c.value,onOnDrawingMode:p,onOnChartClose:F,onOnPause:D,onOnResume:G},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ne("",!0)]))),128))]))),128))],2)])])]),_:1})],64)}}});export{ra as default};
