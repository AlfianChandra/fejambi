import{u as be}from"./theme-kF-DsEZs.js";import{d as je,i as Se}from"./index-B5d4h4Xc.js";import{_ as Qe}from"./MainWrapperView.vue_vue_type_style_index_0_lang-CLzjNZAA.js";import{_ as ue}from"./InputView.vue_vue_type_style_index_0_lang-GdCLD4E3.js";import{_ as fe}from"./SelectView.vue_vue_type_style_index_0_lang-BKPIPAvf.js";import{_ as W}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-CdCQbJ-r.js";import{d as ye,c as I,k as ie,e,f as de,u as U,a as s,r as we,n as ne,t as Q,q as Ze,o as S,l as oe,w as T,g as o,i as R,h as Te,j as xe,_ as Me,F as ve,v as Ce,z as Ae,b as Ee,s as he}from"./index-BKYTNf_H.js";import{u as ge}from"./http-DoZuF8Vd.js";import{t as ze}from"./trunk-CuaAdnZJ.js";import{_ as et}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-DGgg3taK.js";import{h as tt}from"./moment-C5S46NFB.js";const at={key:0,class:"mod-overlay"},lt={class:"mod-heading"},st={class:"mod-body"},Ie=ye({__name:"ModalEditorView",props:{modTitle:{type:String,required:!0},modShow:{type:Boolean,default:!0}},emits:["update:modShow"],setup(X,{emit:E}){const b=be(),F=X,f=E,g=()=>{f("update:modShow",!F.modShow)};return(D,$)=>{const c=we("font-awesome-icon");return X.modShow?(S(),I("div",at,[e("div",{class:ne(["mod-content",U(b).mTheme])},[e("button",{onClick:g,type:"button",class:"mod-dismiss",style:de({color:U(b).accentColor})},[s(c,{icon:"times"})],4),e("div",lt,[e("h4",{class:ne(U(b).textTheme)},[e("b",null,Q(X.modTitle),1)],2)]),e("div",st,[Ze(D.$slots,"default")])],2)])):ie("",!0)}}}),ot={class:"itemlist-wrapper"},nt={class:"itemlist-group"},ae=ye({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:[String,Number],required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(X,{emit:E}){const b=be(),F=E,f=X,g=()=>{F("onItemSelect",{id:f.itemId,name:f.itemName,desc:f.itemDesc})};return(D,$)=>{const c=we("font-awesome-icon");return S(),I("div",ot,[e("div",nt,[e("span",{style:de({color:U(b).accentColor})},[e("b",null,Q(X.itemName),1)],4),e("span",{style:de({color:U(b).accentColor})},[s(c,{icon:"map-pin"}),oe(" "+Q(X.itemDesc),1)],4)]),s(W,{onClick:g,"bt-disabled":!1,"bt-size":"small"},{default:T(()=>[s(c,{icon:"plus"})]),_:1})])}}}),it={class:"chart-containers"},rt={class:"col-md-4"},ut={class:"loaderparent"},dt=ye({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=X,b=o(!0),F=o(null),f=o(null),g=be(),D=o(15),$=o([]),c=o(0),m=o("Building chart..."),L=o("Initializing..."),w=o(0),M=o({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),a=C=>new Date(C).toISOString(),d=async()=>new Promise(async(C,x)=>{await ge().httpGet("api/Spot/getspots").then(u=>{C(u)}).catch(u=>{console.error(u),x(u)})});R(()=>F.value,async()=>{z(),await d().then(C=>{$.value=C})});const z=()=>{if(c.value=5,F.value){const C=Se(F.value);f.value=C,f.value.setOption(M.value)}},H=async()=>new Promise(async(C,x)=>{try{const u=[],n=new Set,r=$.value.length;let v=0;L.value="Setting up...";for(let A=0;A<$.value.length;A++){L.value=`Applying filter for ${$.value[A].spotName}...`;const Z={id:$.value[A].id+"",date:a(E.dateFilter),timespan:E.timeFilter+"",firstrequest:b.value},P=await ge().httpPost("api/Data/getsingledata",Z);for(let j=0;j<P.length;j++)setTimeout(()=>{w.value++},1);const y=P.map(j=>{const le=j.timestamp.replace(".",":").split("T")[1],[se,ce]=le.split(":"),O=`${se}:${ce}`;return n.add(O),O}),_=P.map(j=>parseFloat(j.psiValue));u.push({psies:_,categories:y}),v+=1;const G=v/r*90;c.value=Math.round(G)}const q=Array.from(n).sort((A,Z)=>{const[P,y]=A.split(":").map(Number),[_,G]=Z.split(":").map(Number);return P!==_?P-_:y-G}),Y=u.map((A,Z)=>{const P={};A.categories.forEach((_,G)=>{P[_]=A.psies[G]});const y=q.map(_=>P[_]!==void 0?parseFloat(P[_]):null);return{name:`${$.value[Z].spotName}`,type:"line",data:y,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(_){let G=0;const j=u[_.seriesIndex].psies.length;for(let B=0;B<j;B++)u[_.seriesIndex].psies[B]!==null&&(G=u[_.seriesIndex].psies[B].toFixed(2));return G}}}}),J={backgroundColor:"transparent",legend:{data:Y.map(A=>({name:A.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:q,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(A){return A.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${g.accentColor}`,rotate:-45,interval:A=>{const[Z,P]=q[A].split(":").map(Number);return P%D.value===0},formatter:function(A){return A}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:Y};C(J)}catch(u){console.error(u),x(u)}});return R(()=>$.value,async()=>{await H().then(C=>{f.value.setOption(C),L.value="Drawing series...",c.value=99.99,setTimeout(()=>{c.value=100,w.value=0},2e3)})}),R(()=>D.value,async()=>{c.value=5,L.value="Setting up...",m.value="Options & filter updated. Rebuilding chart with new series...",f.value&&(f.value=null),z(),setTimeout(async()=>{await H().then(C=>{f.value.setOption(C),c.value=99.99,L.value="Drawing series...",setTimeout(()=>{c.value=100,w.value=0},2e3)})},1e3)}),Te(()=>{z()}),xe(()=>{F.value&&je(F.value)}),(C,x)=>(S(),I("div",it,[e("h3",{style:{padding:"15px"},class:ne([`${U(g).textTheme}`])},x[1]||(x[1]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",rt,[s(fe,{"in-label":"X-Axis Time Split","model-value":D.value,"onUpdate:modelValue":x[0]||(x[0]=u=>D.value=u)},{default:T(()=>x[2]||(x[2]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:F,style:{width:"100%",position:"relative",height:"90%"}},null,512),c.value!=100?(S(),I("div",{key:0,class:ne(["chartloader",[`${U(g).mTheme}`]])},[x[3]||(x[3]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:ne([`${U(g).textTheme}`])},Q(m.value)+" ("+Q(w.value)+" objects collected)",3),e("span",{style:de({color:`${U(g).accentColorSecondary}`})},Q(L.value),5),e("div",ut,[e("span",{style:de({width:`${c.value}%`,background:`${U(g).accentColor}`}),class:"loaderinner"},null,4)])],2)):ie("",!0)]))}}),ct=Me(dt,[["__scopeId","data-v-69f62916"]]),mt={class:"chart-containers"},pt={class:"col-md-4"},vt={class:"loaderparent"},ft=ye({__name:"LiveMonitorSegmentView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=ze(),b=X,F=o(!0),f=o(null),g=o(null),D=be(),$=o(15),c=o([]),m=o(0),L=o("Building chart..."),w=o("Initializing..."),M=o(0),a=o("trunk1"),d=o({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),z=o({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),H=n=>new Date(n).toISOString(),C=()=>{c.value=E.getTrunk(a.value).spot};R(()=>f.value,()=>{x(),C()});const x=()=>{if(m.value=5,f.value){const n=Se(f.value);g.value=n,g.value.setOption(d.value)}},u=async()=>new Promise(async(n,r)=>{try{const v=[],q=new Set,Y=c.value.length;let J=0;w.value="Setting up...";for(let y=0;y<c.value.length;y++){w.value=`Applying filter for ${c.value[y].spotName}...`;const _={id:c.value[y].id+"",date:H(b.dateFilter),timespan:b.timeFilter+"",firstrequest:F.value},G=await ge().httpPost("api/Data/getsingledata",_);for(let se=0;se<G.length;se++)setTimeout(()=>{M.value++},1);const j=G.map(se=>{const O=se.timestamp.replace(".",":").split("T")[1],[p,ee]=O.split(":"),k=`${p}:${ee}`;return q.add(k),k}),B=G.map(se=>parseFloat(se.psiValue));v.push({psies:B,categories:j}),J+=1;const le=J/Y*90;m.value=Math.round(le)}const A=Array.from(q).sort((y,_)=>{const[G,j]=y.split(":").map(Number),[B,le]=_.split(":").map(Number);return G!==B?G-B:j-le}),Z=v.map((y,_)=>{const G={};y.categories.forEach((B,le)=>{G[B]=y.psies[le]});const j=A.map(B=>G[B]!==void 0?parseFloat(G[B]):null);return{name:`${c.value[_].spotName}`,type:"line",data:j,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:2},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(B){let le=0;const se=v[B.seriesIndex].psies.length;for(let ce=0;ce<se;ce++)v[B.seriesIndex].psies[ce]!==null&&(le=v[B.seriesIndex].psies[ce].toFixed(2));return le}}}}),P={backgroundColor:"transparent",legend:{data:Z.map(y=>({name:y.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:A,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(y){return y.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${D.accentColor}`,rotate:-45,interval:y=>{const[_,G]=A[y].split(":").map(Number);return G%$.value===0},formatter:function(y){return y}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:Z};n(P)}catch(v){console.error(v),r(v)}});return R(()=>c.value,async()=>{await u().then(n=>{g.value.setOption(n),w.value="Drawing series...",m.value=99.99,setTimeout(()=>{m.value=100,M.value=0},2e3)})}),R(()=>$.value,async()=>{m.value=5,w.value="Setting up...",L.value="Options & filter updated. Rebuilding chart with new series...",g.value&&(g.value=null),x(),setTimeout(async()=>{await u().then(n=>{g.value.setOption(n),m.value=99.99,w.value="Drawing series...",setTimeout(()=>{m.value=100,M.value=0},2e3)})},1e3)}),Te(()=>{x()}),xe(()=>{f.value&&je(f.value)}),R(()=>a.value,()=>{c.value=E.getTrunk(a.value).spot,g.value.clear(),g.value.setOption(z),x()}),(n,r)=>(S(),I("div",mt,[e("h3",{style:{padding:"15px"},class:ne([`${U(D).textTheme}`])},r[2]||(r[2]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",pt,[s(fe,{"in-label":"Select Spot","model-value":a.value,"onUpdate:modelValue":r[0]||(r[0]=v=>a.value=v)},{default:T(()=>r[3]||(r[3]=[e("option",{value:"trunk1"},"MGS BJG - BOOSTER",-1),e("option",{value:"trunk2"},"MGS KAS - MOS SPPP",-1),e("option",{value:"trunk3"},"SGL LINE",-1),e("option",{value:"trunk4"},"BETUNG - BAJUBANG",-1)])),_:1},8,["model-value"]),s(fe,{"in-label":"X-Axis Time Split","model-value":$.value,"onUpdate:modelValue":r[1]||(r[1]=v=>$.value=v)},{default:T(()=>r[4]||(r[4]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:f,style:{width:"100%",position:"relative",height:"100%"}},null,512),m.value!=100?(S(),I("div",{key:0,class:ne(["chartloader",[`${U(D).mTheme}`]])},[r[5]||(r[5]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:ne([`${U(D).textTheme}`])},Q(L.value)+" ("+Q(M.value)+" objects collected)",3),e("span",{style:de({color:`${U(D).accentColorSecondary}`})},Q(w.value),5),e("div",vt,[e("span",{style:de({width:`${m.value}%`,background:`${U(D).accentColor}`}),class:"loaderinner"},null,4)])],2)):ie("",!0)]))}}),yt=Me(ft,[["__scopeId","data-v-40464d3f"]]),ht={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},gt=["id"],bt={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},St={contenteditable:"true",spellcheck:"false"},wt=ye({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(X,{emit:E}){const b=o([]),F=o([]),f=E,g=be(),D=o(!1),$=o(!0),c=o(null),m=o(null),L=o(!1),w=o(!1);let M;const a=X,d=o(a.safeMark),z=o(!1),H=o(a.yMax),C=o(a.yMin),x=o(a.tickAmount),u=o(50),n=o(a.dataFetchInterval),r=o(a.curveType),v=o(!0),q=o(!0);function Y(O,p){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:x.value,axisLine:{show:!0,lineStyle:{color:g.accentColor}},splitLine:{show:q,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:0,max:O,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:v,lineStyle:{color:"#ddd",type:"dashed"}},interval:a.yInterval,axisLine:{show:!0,lineStyle:{color:g.accentColor}}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:a.curveType,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(ee){const k=ee.dataIndex,me=J.value.series[0].data;let re=0;for(let t=0;t<me.length;t++)me[t]>re&&(re=me[t]);let N=0,V=0;for(let t=0;t<me.length;t++){const l=parseInt(me[t]);(parseInt(a.spotId)==1&&l>=128&&l<=150||parseInt(a.spotId)==2&&l>=70&&l<=100||parseInt(a.spotId)==3&&l>=120&&l<=150||parseInt(a.spotId)==4&&l>=16&&l<=38||parseInt(a.spotId)==5&&l>=250&&l<=300||parseInt(a.spotId)==6&&l>=225&&l<=250||parseInt(a.spotId)==7&&l>=50&&l<=100||parseInt(a.spotId)==8&&l>=200&&l<=260||parseInt(a.spotId)==9&&l>=38&&l<=50||parseInt(a.spotId)==10&&l>=10&&l<=56||parseInt(a.spotId)==11&&l>=7&&l<=35||parseInt(a.spotId)==12&&l>=38&&l<=50||parseInt(a.spotId)==13&&l>=3&&l<=30||parseInt(a.spotId)==14&&l>=38&&l<=50||parseInt(a.spotId)==15&&l>=90&&l<=120||parseInt(a.spotId)==16&&l>=30&&l<=60)&&(N+=l,V++)}const pe=N/V,h=me.length-1;if(k===h){const t=ee.value,l=re,te=(l-t)/l*100;return`Curr: ${ee.value}
Avg: ${pe.toFixed(2)}
Del: ${te>0?"-"+te.toFixed(2):"+"+te.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:d.value}]}}]}}R(()=>d.value,()=>{var O;J.value.series[1].markLine.data[0].yAxis=d.value,(O=m.value)==null||O.setOption(J.value)});const J=o(Y(a.yMax,a.curveType));R(()=>[H.value,C.value,x.value,n.value,r.value,u.value,v.value,q.value],()=>{m.value.setOption(J.value)});const A=()=>{var O;!m.value&&c.value&&(m.value=Se(c.value)),(O=m.value)==null||O.setOption(J.value)},Z=O=>new Date(O).toISOString(),P=async()=>{var p;const O={id:a.spotId,date:Z(a.filterDate),timespan:a.filterTime+""};try{const k=await ge().httpPost("api/Data/getalldata",O),me=k.map(N=>{const pe=N.timestamp.replace(".",":").split("T")[1],[h,t]=pe.split(":");return`${h}:${t}`}),re=k.map(N=>parseFloat(N.psiValue).toFixed(2)).map(N=>parseFloat(N));b.value=me,F.value=re,re.length?(L.value=!1,J.value.xAxis[0].data=me,J.value.series[0].data=re,(p=m.value)==null||p.setOption(J.value)):(L.value=!0,$.value=!1)}catch(ee){console.error("Error fetching chart data:",ee)}},y=()=>{const O=new Date().toISOString().slice(0,10);if(a.filterDate.slice(0,10)!==O){M&&clearInterval(M);return}else M&&clearInterval(M),M=setInterval(()=>{w.value||P()},n.value)};R(()=>c.value,()=>{c.value&&A()}),R(()=>a.gridview,()=>{m.value&&setTimeout(()=>{var O;(O=m.value)==null||O.resize()},500)}),R(()=>a.dataFetchInterval,()=>{n.value=a.dataFetchInterval,y()}),R(()=>[c.value],()=>{P(),y()}),xe(()=>{clearInterval(M)});let _=null;R(()=>[a.filterDate,a.filterTime,a.yMax,a.yMin,a.tickAmount,a.curveType],()=>{_&&clearTimeout(_),_=setTimeout(()=>{H.value=a.yMax,C.value=a.yMin,x.value=a.tickAmount,r.value=a.curveType,n.value=a.dataFetchInterval,J.value=Y(a.yMax,a.curveType),$.value=!0,D.value=!1},300)});let G=null;R(()=>[H.value,C.value,x.value,n.value,r.value],()=>{G&&clearTimeout(G),G=setTimeout(()=>{P()},500)}),g.$subscribe((O,p)=>{setTimeout(()=>{P()},2e3)});const j=()=>{f("onChartClose",a.spotId)},B=()=>{z.value=!z.value},le=()=>{z.value=!1},se=()=>{w.value=!w.value,w.value?f("onPause",a.spotId):f("onResume",a.spotId)};R(()=>[a.isDataPaused],()=>{w.value=a.isDataPaused,w.value?f("onPause",a.spotId):f("onResume",a.spotId)}),R(()=>w.value,()=>{w.value?f("onPause",a.spotId):f("onResume",a.spotId)}),R(()=>g.asideVisible,()=>{m.value&&setTimeout(()=>{var O;(O=m.value)==null||O.resize()},500)});const ce=()=>{f("onDrawingMode",a.spotId)};return(O,p)=>{const ee=we("font-awesome-icon");return S(),I(ve,null,[s(Ie,{"mod-show":z.value,"onUpdate:modShow":p[9]||(p[9]=k=>z.value=k),"mod-title":`${a.chartName} Preferences`},{default:T(()=>[s(ue,{"in-type":"number","in-label":"Safemark","model-value":d.value,"onUpdate:modelValue":p[0]||(p[0]=k=>d.value=k)},null,8,["model-value"]),s(ue,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":H.value,"onUpdate:modelValue":p[1]||(p[1]=k=>H.value=k)},null,8,["model-value"]),s(ue,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":C.value,"onUpdate:modelValue":p[2]||(p[2]=k=>C.value=k)},null,8,["model-value"]),s(ue,{"in-type":"number","in-label":"Y-Axis Interval","model-value":u.value,"onUpdate:modelValue":p[3]||(p[3]=k=>u.value=k)},null,8,["model-value"]),s(ue,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":x.value,"onUpdate:modelValue":p[4]||(p[4]=k=>x.value=k)},null,8,["model-value"]),s(ue,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":n.value,"onUpdate:modelValue":p[5]||(p[5]=k=>n.value=k)},null,8,["model-value"]),s(fe,{"in-label":"Curve Type","model-value":r.value,"onUpdate:modelValue":p[6]||(p[6]=k=>r.value=k)},{default:T(()=>p[10]||(p[10]=[e("option",{value:"true"},"Smooth",-1),e("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),e("div",ht,[e("label",null,[Ce(e("input",{type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=k=>v.value=k)},null,512),[[Ae,v.value]]),p[11]||(p[11]=oe(" Show Y-Axis Minor Split "))]),e("label",null,[Ce(e("input",{type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=k=>q.value=k)},null,512),[[Ae,q.value]]),p[12]||(p[12]=oe(" Show X-Axis Split "))])]),s(W,{onClick:le,"bt-type":"button","bt-disabled":!1},{default:T(()=>p[13]||(p[13]=[oe("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),e("div",{id:`chart${a.spotId}`,style:de({width:a.gridview?U(g).asideVisible?"680px":"600.5px":"100%"}),class:ne(["chartwrap",w.value?"chartwrap-paused":""])},[a.showUis?(S(),I("div",bt,[s(W,{onClick:ce,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:T(()=>[s(ee,{icon:"edit"})]),_:1}),s(W,{onClick:se,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:T(()=>[s(ee,{icon:w.value?"pause":"play"},null,8,["icon"])]),_:1}),F.value.length?(S(),Ee(W,{key:0,onClick:B,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[s(ee,{icon:"sliders"})]),_:1})):ie("",!0),s(W,{onClick:j,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[s(ee,{icon:"close"})]),_:1})])):ie("",!0),s(et,{"id-spot":parseInt(a.spotId)},null,8,["id-spot"]),e("h4",{style:de({textAlign:"center",color:U(g).accentColor})},[e("b",St,"SPOT: "+Q(a.chartName),1)],4),F.value.length?(S(),I("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:ne(U(g).textTheme)}," Displaying data for last "+Q(a.filterTime)+" hour(s) on "+Q(a.filterDate),3)):ie("",!0),e("div",{ref_key:"chartRef",ref:c,style:{width:"100%",height:"600px"}},null,512)],14,gt)],64)}}}),xt={class:"cl-filter"},kt={key:0,class:"trunk-selector"},It={style:{width:"500px",display:"flex",padding:"15px","flex-flow":"column"}},Tt=["value"],Mt={style:{width:"500px",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem",position:"relative"}},Ct={style:{display:"flex","flex-flow":"column","align-items":"center"}},At={style:{display:"flex","flex-flow":"row wrap","justify-content":"center"}},_t=["onClick"],Ot=ye({__name:"ChartLayerView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const E=o(null),b=o(null),F=o(ze().getAllTrunk()),f=u=>new Date(u).toISOString(),g=X,D=o(g.dateFilter),$=o("15"),c=o({legend:{show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",name:"Time",data:[],nameGap:40,boundaryGap:0,nameLocation:"center",axisLabel:{show:!0,rotate:45,interval:u=>a.value[u]===void 0?!1:a.value[u].split(":")[1]%$.value===0},axisSplitLine:{show:!0,lineStyle:{type:"solid"}},axisLine:{show:!0,lineStyle:{type:"solid"}}},yAxis:{type:"value",min:0,max:550,interval:50,minorTick:{show:!0},scale:!0,nameLocation:"center",nameGap:50,boundaryGap:0,splitLine:{show:!0,lineStyle:{type:"solid",color:"#00000055"}},minorSplitLine:{show:!0,lineStyle:{type:"dashed",color:"#00000022"}},axisTick:{show:!0},name:"Pressure (PSI)",axisLine:{show:!0}},series:[]});R(()=>$.value,()=>{c.value.xAxis.axisLabel.interval=u=>a.value[u].split(":")[1]%$.value===0,w()}),R(()=>D.value,()=>{Object.keys(m.value).length>0&&H()});const m=o({}),L=o(),w=()=>{b.value.setOption(c.value)};R(()=>E.value,()=>{b.value=Se(E.value),w()});const M=o({}),a=o([]),d=o(!1),z=()=>{const u=L.value,n=F.value[u].name,r=F.value[u].spot;m.value[n]=r,d.value=!1,M.value={},a.value=[],b.value.clear(),c.value.series=[],b.value.setOption(c.value),H()},H=()=>{Object.keys(m.value).forEach(async u=>{const n=[],r=[];for(let v=0;v<m.value[u].length;v++){const Y={id:m.value[u][v].id+"",date:f(D.value),timespan:g.timeFilter+"",firstrequest:!0},A=await ge().httpPost("api/Data/getsingledata",Y),Z=A.map(y=>y.psiValue.toFixed(2));r.push({type:"line",data:Z,smooth:!1,symbol:"none",name:m.value[u][v].name});const P=A.map(y=>tt(y.timestamp).format("HH:mm"));for(let y=0;y<P.length;y++)n.includes(P[y])||n.push(P[y])}M.value[u]=r,a.value=n})};R(()=>M,()=>{b.value.clear(),b.value.setOption(c.value),C()},{deep:!0});const C=()=>{c.value.xAxis.data=a.value,Object.keys(M.value).forEach(u=>{for(let n=0;n<M.value[u].length;n++)c.value.series.push(M.value[u][n])}),b.value.setOption(c.value)},x=u=>{delete m.value[u],H()};return(u,n)=>{const r=we("font-awesome-icon");return S(),I(ve,null,[e("div",xt,[d.value?(S(),I("div",kt,[e("button",{onClick:n[0]||(n[0]=v=>d.value=!d.value),type:"button",class:"drwclose"},[s(r,{icon:"close"})]),e("div",It,[n[7]||(n[7]=e("h5",null,[e("b",null,"Trunkline Preference")],-1)),s(fe,{"in-label":"Trunkline",style:{width:"100%"},"model-value":L.value,"onUpdate:modelValue":n[1]||(n[1]=v=>L.value=v)},{default:T(()=>[n[5]||(n[5]=e("option",{selected:"",value:""},"Select Trunkline...",-1)),(S(!0),I(ve,null,he(F.value,(v,q)=>(S(),I("option",{key:q,value:q},Q(v.name),9,Tt))),128))]),_:1},8,["model-value"]),s(W,{onClick:z,"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content",padding:"13px",width:"170px"}},{default:T(()=>n[6]||(n[6]=[oe("Load into Chart")])),_:1})])])):ie("",!0),n[9]||(n[9]=e("h3",null,[e("b",null,"Chart Layer")],-1)),e("div",Mt,[s(ue,{"in-type":"date","in-label":"Date Filter","model-value":D.value,"onUpdate:modelValue":n[2]||(n[2]=v=>D.value=v)},null,8,["model-value"]),s(fe,{"in-label":"X-Axis Gap",style:{width:"100%"},"model-value":$.value,"onUpdate:modelValue":n[3]||(n[3]=v=>$.value=v)},{default:T(()=>n[8]||(n[8]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"]),s(W,{onClick:n[4]||(n[4]=v=>d.value=!d.value),"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content","margin-top":"36px",padding:"13px"}},{default:T(()=>[s(r,{icon:"plus"})]),_:1})])]),e("div",{ref_key:"chart",ref:E,style:{width:"100%",height:"480px"}},null,512),n[11]||(n[11]=e("hr",null,null,-1)),e("div",Ct,[n[10]||(n[10]=e("label",null,[e("b",null,"Active Trunklines")],-1)),e("div",At,[(S(!0),I(ve,null,he(m.value,(v,q)=>(S(),I("span",{class:"active-trunklines",key:q,onClick:Y=>x(q),style:{margin:"5px"}},[e("span",null,Q(q),1)],8,_t))),128))])])],64)}}}),$t=Me(Ot,[["__scopeId","data-v-a1bd2a50"]]),Gt={key:0,class:"chart-layer"},Dt={class:"chart-layer-inner"},Lt={key:1,class:"live-window"},Pt={key:2,class:"live-window"},Nt={key:3,class:"drw-wd"},Vt={class:"row"},Ft={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Bt={class:"col-md-12"},Rt={class:"col-md-12"},Ut={style:{display:"flex","flex-flow":"row nowrap",gap:"0.4rem"}},qt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Kt={class:"spot-reading-control"},jt={class:"spot-basket"},Et=["onClick","onDblclick"],zt={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},_e=1,Ht=15,Oe=2,Jt=16,$e=3,Ge=4,De=5,Le=6,Pe=7,Ne=8,Ve=9,Fe=10,Be=11,Re=12,Ue=13,qe=14,Ke=17,ia=ye({__name:"MonitoringFol",setup(X){const E=ge(),b=be();b.asideToggle(!0);const F=o(null),f=o(!1),g=o(350),D=o(0),$=o(30),c=o(7e3),m=o(!1),L=o(""),w=o(!1),M=o(24),a=o(!1),d=o([]),z=o(0),H=h=>Object.keys(h),C=()=>{z.value<d.value.length&&setTimeout(()=>{z.value++,C()},100)},x=()=>{const h=new Date,t=h.getFullYear(),l=String(h.getMonth()+1).padStart(2,"0"),i=String(h.getDate()).padStart(2,"0"),te=`${t}-${l}-${i}`;L.value=te},u=()=>{document.visibilityState==="visible"?setTimeout(()=>{m.value=!1,b.notifyShow("Resuming data fetch")},3e3):m.value=!0};Te(()=>{x(),C(),document.addEventListener("visibilitychange",u)}),xe(()=>{document.removeEventListener("visibilitychange",u)});const n=()=>{a.value=!0},r=h=>{a.value=!1,d.value.some(l=>l[h.id])?b.notifyShowError("Selected spot already displayed"):d.value.push({[h.id]:h})},v=h=>{d.value=d.value.filter(t=>!t[h])};(()=>{d.value.push({1:{id:_e,name:"MGS BJG (1)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),d.value.push({15:{id:Ht,name:"MGS BJG (2)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),d.value.push({2:{id:Oe,name:"BOOSTER (MOS TPN)",desc:"Tempino",safemark:85,yMax:400,yInterval:50}}),d.value.push({16:{id:Jt,name:"MGS BJG (3)",desc:"Tempino",safemark:85,yMax:100,yInterval:10}}),d.value.push({3:{id:$e,name:"MGS KAS",desc:"Kenali Asam Atas",safemark:140,yMax:400,yInterval:50}}),d.value.push({4:{id:Ge,name:"MOS TPN",desc:"Tempino",safemark:25,yMax:100,yInterval:10}}),d.value.push({5:{id:De,name:"GS 02 SGL",desc:"Sungai Gelam",safemark:287,yMax:500,yInterval:50}}),d.value.push({6:{id:Le,name:"GS 02 SGL (2)",desc:"Sungai Gelam",safemark:0,yMax:400,yInterval:50}}),d.value.push({7:{id:Pe,name:"GS 02 SGL (3)",desc:"Sungai Gelam",safemark:0,yMax:200,yInterval:50}}),d.value.push({8:{id:Ne,name:"GS 01 KTT",desc:"Ketaling",safemark:242,yMax:500,yInterval:50}}),d.value.push({9:{id:Ve,name:"MGS TPN",desc:"Tempino",safemark:43,yMax:300,yInterval:50}}),d.value.push({10:{id:Fe,name:"0 KM SP BETUNG",desc:"Betung",safemark:0,yMax:400,yInterval:50}}),d.value.push({11:{id:Be,name:"5.3 KM SIMP. PASAR GAJAH (5.3)",desc:"Pasar Gajah",safemark:0,yMax:300,yInterval:50}}),d.value.push({12:{id:Re,name:"9.5 KM SANDTRAP II (4.2)",desc:"Sandtrap",safemark:0,yMax:100,yInterval:10}}),d.value.push({13:{id:Ue,name:"13.8 KM MGS BJG (4.3)",desc:"Bajubang",safemark:0,yMax:200,yInterval:20}}),d.value.push({14:{id:qe,name:"MINIATUR (CIP)",desc:"Miniatur",safemark:0,yMax:100,yInterval:10}}),d.value.push({17:{id:Ke,name:"CF KAS",desc:"Kenali Asam Atas",safemark:140,yMax:100,yInterval:10}})})();const Y=o(!1),J=()=>{Y.value=!Y.value},A=()=>{Y.value=!1,b.notifyShow("Options has been applied")},Z=h=>{const t=document.getElementById("chart"+h);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},P=()=>{f.value=!f.value},y=h=>{d.value=d.value.filter(t=>!t[h])};let _=o([]);const G=h=>{_.value.push({id:h});const t=`spotdata-${h}`,l=document.querySelector(`.${t}`);l?(l.style.background="red",l.style.color="white"):console.warn(`Element dengan class ${t} gak ditemukan bro!`)},j=h=>{const t=`spotdata-${h}`,l=document.querySelector(`.${t}`);l?(l.style.background="#000",l.style.color="#fff"):console.warn(`Element dengan class ${t} gak ditemukan bro!`);const i=_.value.findIndex(te=>te.id===h);_.value.splice(i,1)},B=h=>{const t=Object.keys(h)[0];return h[t].id},le=()=>{m.value=!1},se=()=>{m.value=!0},ce=h=>new Date(h).toISOString(),O=async h=>new Promise(async(t,l)=>{try{const i={id:h,date:ce(L.value),timespan:M.value+"",firstrequest:!1},te=await E.httpPost("api/Data/getsingledata",i).then(K=>{const He=K.map(ke=>{const We=ke.timestamp.replace(".",":").split("T")[1],[Xe,Ye]=We.split(":");return`${Xe}:${Ye}`}),Je=K.map(ke=>parseFloat(ke.psiValue).toFixed(2));t({cats:He,series:Je})}).catch(K=>{l(K)})}catch(i){l(i)}}),p=o(!1),ee=h=>{m.value=!0,p.value=!0,setTimeout(()=>{k(h)},3e3)},k=async h=>{const t=Se(F.value);await O(h).then(l=>{const i=l.cats,te=l.series,K={graphic:[{type:"rect",shape:{x:0,y:0,width:t.getWidth(),height:t.getHeight()},style:{fill:"transparent"}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:i},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:te,color:i.map(()=>`${b.accentColor}`)}]};t.setOption(K),t.setOption({yAxis:{name:"Pressure (PSI)"}})})},me=()=>{p.value=!1},re=o(!1),N=()=>{re.value=!1},V=o(!1),pe=o(!1);return R(()=>pe.value,()=>{pe.value?m.value=!0:m.value=!1}),(h,t)=>{const l=we("font-awesome-icon");return S(),I(ve,null,[pe.value?(S(),I("div",Gt,[e("div",Dt,[e("button",{onClick:t[0]||(t[0]=i=>pe.value=!pe.value),type:"button",class:"drwclose"},[s(l,{icon:"close"})]),s($t,{"date-filter":L.value,"time-filter":M.value},null,8,["date-filter","time-filter"])])])):ie("",!0),V.value?(S(),I("div",Lt,[e("div",{class:ne(["live-window-inner",[`${U(b).mTheme}`]])},[e("button",{onClick:t[1]||(t[1]=i=>V.value=!V.value),type:"button",class:"drwclose"},[s(l,{icon:"close"})]),s(yt,{"date-filter":L.value,"time-filter":M.value},null,8,["date-filter","time-filter"])],2)])):ie("",!0),re.value?(S(),I("div",Pt,[e("div",{class:ne(["live-window-inner",[`${U(b).mTheme}`]])},[e("button",{type:"button",class:"drwclose",onClick:N},[s(l,{icon:"close"})]),s(ct,{"date-filter":L.value,"time-filter":M.value},null,8,["date-filter","time-filter"])],2)])):ie("",!0),p.value?(S(),I("div",Nt,[e("div",{class:"drw-inner",style:de({background:`${U(b).themeDarkColor}`})},[e("button",{onClick:me,type:"button",style:de({color:`${U(b).accentColor}`}),class:"drwclose"},[s(l,{icon:"close"})],4),e("div",{ref_key:"eCharts",ref:F,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ie("",!0),s(Ie,{"mod-show":a.value,"onUpdate:modShow":t[2]||(t[2]=i=>a.value=i),"mod-title":"Select spot"},{default:T(()=>[s(ae,{onOnItemSelect:r,"item-id":_e,"item-name":"MGS BJG","item-desc":"Bajubang","item-safemark":136}),s(ae,{onOnItemSelect:r,"item-id":Oe,"item-name":"BOOSTER (MOS TPN)","item-desc":"Tempino","item-safemark":85}),s(ae,{onOnItemSelect:r,"item-id":$e,"item-name":"MGS KAS","item-desc":"Kenali Asam Atas","item-safemark":140}),s(ae,{onOnItemSelect:r,"item-id":Ge,"item-name":"MOS TPN","item-desc":"Tempino","item-safemark":25}),s(ae,{onOnItemSelect:r,"item-id":De,"item-name":"GS 02 SGL","item-desc":"Sungai Gelam","item-safemark":287}),s(ae,{onOnItemSelect:r,"item-id":Le,"item-name":"GS 02 SGL (2)","item-desc":"Sungai Gelam","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Pe,"item-name":"GS 02 SGL (3)","item-desc":"Sungai Gelam","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Ne,"item-name":"GS 01 KTT","item-desc":"Ketaling","item-safemark":242}),s(ae,{onOnItemSelect:r,"item-id":Ve,"item-name":"MGS TPN","item-desc":"Tempino","item-safemark":43}),s(ae,{onOnItemSelect:r,"item-id":Fe,"item-name":"0 KM SP BETUNG","item-desc":"Betung","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Be,"item-name":"5.3 KM SIMP. PASAR GAJAH (5.3)","item-desc":"Pasar Gajah","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Re,"item-name":"9.5 KM SANDTRAP II (4.2)","item-desc":"Sandtrap","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Ue,"item-name":"13.8 KM MGS BJG (4.3)","item-desc":"Bajubang","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":qe,"item-name":"MINIATUR (CIP)","item-desc":"Miniatur","item-safemark":0}),s(ae,{onOnItemSelect:r,"item-id":Ke,"item-name":"CF KAS","item-desc":"Kenali Asam Atas","item-safemark":0})]),_:1},8,["mod-show"]),s(Ie,{"mod-show":Y.value,"onUpdate:modShow":t[8]||(t[8]=i=>Y.value=i),"mod-title":"Global Chart Preference"},{default:T(()=>[e("p",{style:de({color:U(b).accentColor})},"These parameters applies to all displayed charts",4),s(ue,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":g.value,"onUpdate:modelValue":t[3]||(t[3]=i=>g.value=i)},null,8,["model-value"]),s(ue,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":D.value,"onUpdate:modelValue":t[4]||(t[4]=i=>D.value=i)},null,8,["model-value"]),s(ue,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":$.value,"onUpdate:modelValue":t[5]||(t[5]=i=>$.value=i)},null,8,["model-value"]),s(ue,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":c.value,"onUpdate:modelValue":t[6]||(t[6]=i=>c.value=i)},null,8,["model-value"]),s(fe,{"in-label":"Curve Type","model-value":w.value,"onUpdate:modelValue":t[7]||(t[7]=i=>w.value=i)},{default:T(()=>t[14]||(t[14]=[e("option",{value:!0},"Smooth",-1),e("option",{value:!1},"Straight",-1)])),_:1},8,["model-value"]),s(W,{onClick:A,"bt-type":"button","bt-disabled":!1},{default:T(()=>t[15]||(t[15]=[oe("Dismiss")])),_:1})]),_:1},8,["mod-show"]),s(Qe,{"context-title":"Monitoring FOL"},{default:T(()=>[e("div",Vt,[e("div",Ft,[s(W,{onClick:J,"bt-size":"small","bt-disabled":!1},{default:T(()=>[s(l,{icon:"sliders"}),t[16]||(t[16]=oe(" Global Chart Preferences"))]),_:1})]),e("div",Bt,[s(ue,{"in-type":"date","in-label":"Date Filter","model-value":L.value,"onUpdate:modelValue":t[9]||(t[9]=i=>L.value=i)},null,8,["model-value"]),s(fe,{"in-label":"Time Range Filter","model-value":M.value,"onUpdate:modelValue":t[10]||(t[10]=i=>M.value=i)},{default:T(()=>t[17]||(t[17]=[e("option",{value:"1"},"1 Hour",-1),e("option",{value:"3"},"3 Hours",-1),e("option",{value:"6"},"6 Hours",-1),e("option",{value:"12"},"12 Hours",-1),e("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),e("div",Rt,[e("div",Ut,[s(W,{onClick:t[11]||(t[11]=i=>re.value=!re.value),"bt-size":"small","bt-disabled":!1},{default:T(()=>[s(l,{icon:"chart-line"}),t[18]||(t[18]=oe(" Live Monitor "))]),_:1}),s(W,{"bt-size":"small",onClick:t[12]||(t[12]=i=>V.value=!V.value),"bt-disabled":!1},{default:T(()=>[s(l,{icon:"chart-line"}),t[19]||(t[19]=oe(" Trunkline Monitor "))]),_:1}),s(W,{"bt-size":"small",onClick:t[13]||(t[13]=i=>pe.value=!pe.value),"bt-disabled":!1},{default:T(()=>[s(l,{icon:"chart-line"}),t[20]||(t[20]=oe(" Chart Layer "))]),_:1})])]),e("div",qt,[s(W,{onClick:n,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:T(()=>[s(l,{icon:"add"}),t[21]||(t[21]=oe(" Add Chart"))]),_:1})]),e("div",Kt,[s(W,{onClick:le,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[s(l,{icon:"play"}),t[22]||(t[22]=oe(" Resume All"))]),_:1}),s(W,{onClick:se,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[s(l,{icon:"pause"}),t[23]||(t[23]=oe(" Pause All"))]),_:1})]),e("div",jt,[(S(!0),I(ve,null,he(d.value,(i,te)=>(S(),I("span",{title:"Click to navigate to this spot",key:te,class:ne(["spot-data",[`spotdata-${B(i)}`]]),onClick:K=>Z(Object.keys(i)[0]),onDblclick:K=>v(Object.keys(i)[0])},[(S(!0),I(ve,null,he(H(i),K=>(S(),I("span",{key:K},Q(i[K].name+" - "+i[K].desc),1))),128))],42,Et))),128))]),d.value.length?(S(),I("div",zt,[s(W,{onClick:P,"bt-disabled":!1,"bt-size":"small"},{default:T(()=>[s(l,{icon:f.value?"grip-vertical":"expand"},null,8,["icon"]),oe(" "+Q(f.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ie("",!0),e("div",{style:{},class:ne(f.value?"chart-basket-gridview":"chart-basket-fullview")},[(S(!0),I(ve,null,he(d.value,(i,te)=>(S(),I("div",{key:te},[(S(!0),I(ve,null,he(H(i),K=>(S(),I("div",{key:K,class:"chart-wrapper"},[te<z.value?(S(),Ee(wt,{key:0,onOnChartReady:C,id:"chart"+Object.keys(i)[0],"chart-name":i[K].name,"filter-date":L.value,"filter-time":M.value,"safe-mark":i[K].safemark,"spot-id":K,"curve-type":w.value,"y-max":i[K].yMax,"y-min":D.value,"tick-amount":$.value,"y-interval":i[K].yInterval,"data-fetch-interval":c.value,gridview:f.value,"is-data-paused":m.value,onOnDrawingMode:ee,onOnChartClose:y,onOnPause:G,onOnResume:j},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ie("",!0)]))),128))]))),128))],2)])])]),_:1})],64)}}});export{ia as default};
