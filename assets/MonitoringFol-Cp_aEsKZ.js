import{u as ge}from"./theme-mnHYQwJe.js";import{d as Ke,i as be}from"./index-CehbAW_K.js";import{_ as Ye}from"./MainWrapperView.vue_vue_type_style_index_0_lang-B4zjfxgd.js";import{_ as ue}from"./InputView.vue_vue_type_style_index_0_lang-BGpXR--e.js";import{_ as ve}from"./SelectView.vue_vue_type_style_index_0_lang-BTan0-6B.js";import{_ as W}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-BU_PyNN4.js";import{d as fe,r as Se,o as S,c as M,e,f as de,u as K,a as l,n as oe,t as Y,q as Qe,l as ne,p as se,w as C,h as n,k as q,i as ke,j as Ie,_ as Te,s as Me,v as Ce,b as je,F as pe,x as ye}from"./index-CGBUXY6i.js";import{u as he}from"./http-BJJsc_sE.js";import{t as ze}from"./trunk-CuaAdnZJ.js";import{_ as Ze}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-C5cOEC_m.js";import{h as et}from"./moment-C5S46NFB.js";const tt={key:0,class:"mod-overlay"},at={class:"mod-heading"},lt={class:"mod-body"},xe=fe({__name:"ModalEditorView",props:{modTitle:{type:String,required:!0},modShow:{type:Boolean,default:!0}},emits:["update:modShow"],setup(X,{emit:z}){const b=ge(),B=X,v=z,h=()=>{v("update:modShow",!B.modShow)};return(L,O)=>{const u=Se("font-awesome-icon");return X.modShow?(S(),M("div",tt,[e("div",{class:oe(["mod-content",K(b).mTheme])},[e("button",{onClick:h,type:"button",class:"mod-dismiss",style:de({color:K(b).accentColor})},[l(u,{icon:"times"})],4),e("div",at,[e("h4",{class:oe(K(b).textTheme)},[e("b",null,Y(X.modTitle),1)],2)]),e("div",lt,[Qe(L.$slots,"default")])],2)])):ne("",!0)}}}),st={class:"itemlist-wrapper"},ot={class:"itemlist-group"},ee=fe({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:[String,Number],required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(X,{emit:z}){const b=ge(),B=z,v=X,h=()=>{B("onItemSelect",{id:v.itemId,name:v.itemName,desc:v.itemDesc})};return(L,O)=>{const u=Se("font-awesome-icon");return S(),M("div",st,[e("div",ot,[e("span",{style:de({color:K(b).accentColor})},[e("b",null,Y(X.itemName),1)],4),e("span",{style:de({color:K(b).accentColor})},[l(u,{icon:"map-pin"}),se(" "+Y(X.itemDesc),1)],4)]),l(W,{onClick:h,"bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(u,{icon:"plus"})]),_:1})])}}}),nt={class:"chart-containers"},it={class:"col-md-4"},rt={class:"loaderparent"},ut=fe({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const z=X,b=n(!0),B=n(null),v=n(null),h=ge(),L=n(15),O=n([]),u=n(0),c=n("Building chart..."),N=n("Initializing..."),x=n(0),A=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),a=_=>new Date(_).toISOString(),r=async()=>new Promise(async(_,k)=>{await he().httpGet("api/Spot/getspots").then(i=>{_(i)}).catch(i=>{console.error(i),k(i)})});q(()=>B.value,async()=>{E(),await r().then(_=>{O.value=_})});const E=()=>{if(u.value=5,B.value){const _=be(B.value);v.value=_,v.value.setOption(A.value)}},H=async()=>new Promise(async(_,k)=>{try{const i=[],o=new Set,g=O.value.length;let f=0;N.value="Setting up...";for(let $=0;$<O.value.length;$++){N.value=`Applying filter for ${O.value[$].spotName}...`;const Q={id:O.value[$].id+"",date:a(z.dateFilter),timespan:z.timeFilter+"",firstrequest:b.value},F=await he().httpPost("api/Data/getsingledata",Q);for(let j=0;j<F.length;j++)setTimeout(()=>{x.value++},1);const m=F.map(j=>{const te=j.timestamp.replace(".",":").split("T")[1],[ae,ce]=te.split(":"),w=`${ae}:${ce}`;return o.add(w),w}),D=F.map(j=>parseFloat(j.psiValue));i.push({psies:D,categories:m}),f+=1;const G=f/g*90;u.value=Math.round(G)}const V=Array.from(o).sort(($,Q)=>{const[F,m]=$.split(":").map(Number),[D,G]=Q.split(":").map(Number);return F!==D?F-D:m-G}),ie=i.map(($,Q)=>{const F={};$.categories.forEach((D,G)=>{F[D]=$.psies[G]});const m=V.map(D=>F[D]!==void 0?parseFloat(F[D]):null);return{name:`${O.value[Q].spotName}`,type:"line",data:m,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(D){let G=0;const j=i[D.seriesIndex].psies.length;for(let U=0;U<j;U++)i[D.seriesIndex].psies[U]!==null&&(G=i[D.seriesIndex].psies[U].toFixed(2));return G}}}}),J={backgroundColor:"transparent",legend:{data:ie.map($=>({name:$.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:V,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function($){return $.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${h.accentColor}`,rotate:-45,interval:$=>{const[Q,F]=V[$].split(":").map(Number);return F%L.value===0},formatter:function($){return $}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:ie};_(J)}catch(i){console.error(i),k(i)}});return q(()=>O.value,async()=>{await H().then(_=>{v.value.setOption(_),N.value="Drawing series...",u.value=99.99,setTimeout(()=>{u.value=100,x.value=0},2e3)})}),q(()=>L.value,async()=>{u.value=5,N.value="Setting up...",c.value="Options & filter updated. Rebuilding chart with new series...",v.value&&(v.value=null),E(),setTimeout(async()=>{await H().then(_=>{v.value.setOption(_),u.value=99.99,N.value="Drawing series...",setTimeout(()=>{u.value=100,x.value=0},2e3)})},1e3)}),ke(()=>{E()}),Ie(()=>{B.value&&Ke(B.value)}),(_,k)=>(S(),M("div",nt,[e("h3",{style:{padding:"15px"},class:oe([`${K(h).textTheme}`])},k[1]||(k[1]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",it,[l(ve,{"in-label":"X-Axis Time Split","model-value":L.value,"onUpdate:modelValue":k[0]||(k[0]=i=>L.value=i)},{default:C(()=>k[2]||(k[2]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:B,style:{width:"100%",position:"relative",height:"90%"}},null,512),u.value!=100?(S(),M("div",{key:0,class:oe(["chartloader",[`${K(h).mTheme}`]])},[k[3]||(k[3]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:oe([`${K(h).textTheme}`])},Y(c.value)+" ("+Y(x.value)+" objects collected)",3),e("span",{style:de({color:`${K(h).accentColorSecondary}`})},Y(N.value),5),e("div",rt,[e("span",{style:de({width:`${u.value}%`,background:`${K(h).accentColor}`}),class:"loaderinner"},null,4)])],2)):ne("",!0)]))}}),dt=Te(ut,[["__scopeId","data-v-69f62916"]]),ct={class:"chart-containers"},mt={class:"col-md-4"},pt={class:"loaderparent"},vt=fe({__name:"LiveMonitorSegmentView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const z=ze(),b=X,B=n(!0),v=n(null),h=n(null),L=ge(),O=n(15),u=n([]),c=n(0),N=n("Building chart..."),x=n("Initializing..."),A=n(0),a=n("trunk1"),r=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),E=n({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),H=o=>new Date(o).toISOString(),_=()=>{u.value=z.getTrunk(a.value).spot};q(()=>v.value,()=>{k(),_()});const k=()=>{if(c.value=5,v.value){const o=be(v.value);h.value=o,h.value.setOption(r.value)}},i=async()=>new Promise(async(o,g)=>{try{const f=[],V=new Set,ie=u.value.length;let J=0;x.value="Setting up...";for(let m=0;m<u.value.length;m++){x.value=`Applying filter for ${u.value[m].spotName}...`;const D={id:u.value[m].id+"",date:H(b.dateFilter),timespan:b.timeFilter+"",firstrequest:B.value},G=await he().httpPost("api/Data/getsingledata",D);for(let ae=0;ae<G.length;ae++)setTimeout(()=>{A.value++},1);const j=G.map(ae=>{const w=ae.timestamp.replace(".",":").split("T")[1],[p,Z]=w.split(":"),I=`${p}:${Z}`;return V.add(I),I}),U=G.map(ae=>parseFloat(ae.psiValue));f.push({psies:U,categories:j}),J+=1;const te=J/ie*90;c.value=Math.round(te)}const $=Array.from(V).sort((m,D)=>{const[G,j]=m.split(":").map(Number),[U,te]=D.split(":").map(Number);return G!==U?G-U:j-te}),Q=f.map((m,D)=>{const G={};m.categories.forEach((U,te)=>{G[U]=m.psies[te]});const j=$.map(U=>G[U]!==void 0?parseFloat(G[U]):null);return{name:`${u.value[D].spotName}`,type:"line",data:j,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:2},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(U){let te=0;const ae=f[U.seriesIndex].psies.length;for(let ce=0;ce<ae;ce++)f[U.seriesIndex].psies[ce]!==null&&(te=f[U.seriesIndex].psies[ce].toFixed(2));return te}}}}),F={backgroundColor:"transparent",legend:{data:Q.map(m=>({name:m.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:$,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(m){return m.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${L.accentColor}`,rotate:-45,interval:m=>{const[D,G]=$[m].split(":").map(Number);return G%O.value===0},formatter:function(m){return m}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:Q};o(F)}catch(f){console.error(f),g(f)}});return q(()=>u.value,async()=>{await i().then(o=>{h.value.setOption(o),x.value="Drawing series...",c.value=99.99,setTimeout(()=>{c.value=100,A.value=0},2e3)})}),q(()=>O.value,async()=>{c.value=5,x.value="Setting up...",N.value="Options & filter updated. Rebuilding chart with new series...",h.value&&(h.value=null),k(),setTimeout(async()=>{await i().then(o=>{h.value.setOption(o),c.value=99.99,x.value="Drawing series...",setTimeout(()=>{c.value=100,A.value=0},2e3)})},1e3)}),ke(()=>{k()}),Ie(()=>{v.value&&Ke(v.value)}),q(()=>a.value,()=>{u.value=z.getTrunk(a.value).spot,h.value.clear(),h.value.setOption(E),k()}),(o,g)=>(S(),M("div",ct,[e("h3",{style:{padding:"15px"},class:oe([`${K(L).textTheme}`])},g[2]||(g[2]=[e("b",null,"Live Monitor Chart",-1)]),2),e("div",mt,[l(ve,{"in-label":"Select Spot","model-value":a.value,"onUpdate:modelValue":g[0]||(g[0]=f=>a.value=f)},{default:C(()=>g[3]||(g[3]=[e("option",{value:"trunk1"},"MGS BJG - BOOSTER",-1),e("option",{value:"trunk2"},"MGS KAS - MOS SPPP",-1),e("option",{value:"trunk3"},"SGL LINE",-1),e("option",{value:"trunk4"},"BETUNG - BAJUBANG",-1)])),_:1},8,["model-value"]),l(ve,{"in-label":"X-Axis Time Split","model-value":O.value,"onUpdate:modelValue":g[1]||(g[1]=f=>O.value=f)},{default:C(()=>g[4]||(g[4]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),e("div",{ref_key:"chart",ref:v,style:{width:"100%",position:"relative",height:"100%"}},null,512),c.value!=100?(S(),M("div",{key:0,class:oe(["chartloader",[`${K(L).mTheme}`]])},[g[5]||(g[5]=e("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),e("span",{class:oe([`${K(L).textTheme}`])},Y(N.value)+" ("+Y(A.value)+" objects collected)",3),e("span",{style:de({color:`${K(L).accentColorSecondary}`})},Y(x.value),5),e("div",pt,[e("span",{style:de({width:`${c.value}%`,background:`${K(L).accentColor}`}),class:"loaderinner"},null,4)])],2)):ne("",!0)]))}}),ft=Te(vt,[["__scopeId","data-v-40464d3f"]]),yt={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},ht=["id"],gt={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},bt={contenteditable:"true",spellcheck:"false"},St=fe({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(X,{emit:z}){const b=n([]),B=n([]),v=z,h=ge(),L=n(!1),O=n(!0),u=n(null),c=n(null),N=n(!1),x=n(!1);let A;const a=X,r=n(a.safeMark),E=n(!1),H=n(a.yMax),_=n(a.yMin),k=n(a.tickAmount),i=n(50),o=n(a.dataFetchInterval),g=n(a.curveType),f=n(!0),V=n(!0);function ie(w,p){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:k.value,axisLine:{show:!0,lineStyle:{color:h.accentColor}},splitLine:{show:V,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:0,max:w,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:f,lineStyle:{color:"#ddd",type:"dashed"}},interval:a.yInterval,axisLine:{show:!0,lineStyle:{color:h.accentColor}}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:a.curveType,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(Z){const I=Z.dataIndex,le=J.value.series[0].data;let me=0;for(let d=0;d<le.length;d++)le[d]>me&&(me=le[d]);let T=0,P=0;for(let d=0;d<le.length;d++){const t=parseInt(le[d]);(parseInt(a.spotId)==1&&t>=128&&t<=150||parseInt(a.spotId)==2&&t>=70&&t<=100||parseInt(a.spotId)==3&&t>=120&&t<=150||parseInt(a.spotId)==4&&t>=16&&t<=38||parseInt(a.spotId)==5&&t>=250&&t<=300||parseInt(a.spotId)==6&&t>=225&&t<=250||parseInt(a.spotId)==7&&t>=50&&t<=100||parseInt(a.spotId)==8&&t>=200&&t<=260||parseInt(a.spotId)==9&&t>=38&&t<=50||parseInt(a.spotId)==10&&t>=10&&t<=56||parseInt(a.spotId)==11&&t>=7&&t<=35||parseInt(a.spotId)==12&&t>=38&&t<=50||parseInt(a.spotId)==13&&t>=3&&t<=30||parseInt(a.spotId)==14&&t>=38&&t<=50||parseInt(a.spotId)==15&&t>=90&&t<=120||parseInt(a.spotId)==16&&t>=30&&t<=60)&&(T+=t,P++)}const y=T/P,s=le.length-1;if(I===s){const d=Z.value,t=me,R=(t-d)/t*100;return`Curr: ${Z.value}
Avg: ${y.toFixed(2)}
Del: ${R>0?"-"+R.toFixed(2):"+"+R.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:r.value}]}}]}}q(()=>r.value,()=>{var w;J.value.series[1].markLine.data[0].yAxis=r.value,(w=c.value)==null||w.setOption(J.value)});const J=n(ie(a.yMax,a.curveType));q(()=>[H.value,_.value,k.value,o.value,g.value,i.value,f.value,V.value],()=>{c.value.setOption(J.value)});const $=()=>{var w;!c.value&&u.value&&(c.value=be(u.value)),(w=c.value)==null||w.setOption(J.value)},Q=w=>new Date(w).toISOString(),F=async()=>{var p;const w={id:a.spotId,date:Q(a.filterDate),timespan:a.filterTime+""};try{const I=await he().httpPost("api/Data/getalldata",w),le=I.map(T=>{const y=T.timestamp.replace(".",":").split("T")[1],[s,d]=y.split(":");return`${s}:${d}`}),me=I.map(T=>parseFloat(T.psiValue).toFixed(2)).map(T=>parseFloat(T));b.value=le,B.value=me,me.length?(N.value=!1,J.value.xAxis[0].data=le,J.value.series[0].data=me,(p=c.value)==null||p.setOption(J.value)):(N.value=!0,O.value=!1)}catch(Z){console.error("Error fetching chart data:",Z)}},m=()=>{const w=new Date().toISOString().slice(0,10);if(a.filterDate.slice(0,10)!==w){A&&clearInterval(A);return}else A&&clearInterval(A),A=setInterval(()=>{x.value||F()},o.value)};q(()=>u.value,()=>{u.value&&$()}),q(()=>a.gridview,()=>{c.value&&setTimeout(()=>{var w;(w=c.value)==null||w.resize()},500)}),q(()=>a.dataFetchInterval,()=>{o.value=a.dataFetchInterval,m()}),q(()=>[u.value],()=>{F(),m()}),Ie(()=>{clearInterval(A)});let D=null;q(()=>[a.filterDate,a.filterTime,a.yMax,a.yMin,a.tickAmount,a.curveType],()=>{D&&clearTimeout(D),D=setTimeout(()=>{H.value=a.yMax,_.value=a.yMin,k.value=a.tickAmount,g.value=a.curveType,o.value=a.dataFetchInterval,J.value=ie(a.yMax,a.curveType),O.value=!0,L.value=!1},300)});let G=null;q(()=>[H.value,_.value,k.value,o.value,g.value],()=>{G&&clearTimeout(G),G=setTimeout(()=>{F()},500)}),h.$subscribe((w,p)=>{setTimeout(()=>{F()},2e3)});const j=()=>{v("onChartClose",a.spotId)},U=()=>{E.value=!E.value},te=()=>{E.value=!1},ae=()=>{x.value=!x.value,x.value?v("onPause",a.spotId):v("onResume",a.spotId)};q(()=>[a.isDataPaused],()=>{x.value=a.isDataPaused,x.value?v("onPause",a.spotId):v("onResume",a.spotId)}),q(()=>x.value,()=>{x.value?v("onPause",a.spotId):v("onResume",a.spotId)}),q(()=>h.asideVisible,()=>{c.value&&setTimeout(()=>{var w;(w=c.value)==null||w.resize()},500)});const ce=()=>{v("onDrawingMode",a.spotId)};return(w,p)=>{const Z=Se("font-awesome-icon");return S(),M(pe,null,[l(xe,{"mod-show":E.value,"onUpdate:modShow":p[9]||(p[9]=I=>E.value=I),"mod-title":`${a.chartName} Preferences`},{default:C(()=>[l(ue,{"in-type":"number","in-label":"Safemark","model-value":r.value,"onUpdate:modelValue":p[0]||(p[0]=I=>r.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":H.value,"onUpdate:modelValue":p[1]||(p[1]=I=>H.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":_.value,"onUpdate:modelValue":p[2]||(p[2]=I=>_.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Y-Axis Interval","model-value":i.value,"onUpdate:modelValue":p[3]||(p[3]=I=>i.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":k.value,"onUpdate:modelValue":p[4]||(p[4]=I=>k.value=I)},null,8,["model-value"]),l(ue,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":o.value,"onUpdate:modelValue":p[5]||(p[5]=I=>o.value=I)},null,8,["model-value"]),l(ve,{"in-label":"Curve Type","model-value":g.value,"onUpdate:modelValue":p[6]||(p[6]=I=>g.value=I)},{default:C(()=>p[10]||(p[10]=[e("option",{value:"true"},"Smooth",-1),e("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),e("div",yt,[e("label",null,[Me(e("input",{type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=I=>f.value=I)},null,512),[[Ce,f.value]]),p[11]||(p[11]=se(" Show Y-Axis Minor Split "))]),e("label",null,[Me(e("input",{type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=I=>V.value=I)},null,512),[[Ce,V.value]]),p[12]||(p[12]=se(" Show X-Axis Split "))])]),l(W,{onClick:te,"bt-type":"button","bt-disabled":!1},{default:C(()=>p[13]||(p[13]=[se("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),e("div",{id:`chart${a.spotId}`,style:de({width:a.gridview?K(h).asideVisible?"680px":"600.5px":"100%"}),class:oe(["chartwrap",x.value?"chartwrap-paused":""])},[a.showUis?(S(),M("div",gt,[l(W,{onClick:ce,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:C(()=>[l(Z,{icon:"edit"})]),_:1}),l(W,{onClick:ae,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:C(()=>[l(Z,{icon:x.value?"pause":"play"},null,8,["icon"])]),_:1}),B.value.length?(S(),je(W,{key:0,onClick:U,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(Z,{icon:"sliders"})]),_:1})):ne("",!0),l(W,{onClick:j,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(Z,{icon:"close"})]),_:1})])):ne("",!0),l(Ze,{"id-spot":parseInt(a.spotId)},null,8,["id-spot"]),e("h4",{style:de({textAlign:"center",color:K(h).accentColor})},[e("b",bt,"SPOT: "+Y(a.chartName),1)],4),B.value.length?(S(),M("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:oe(K(h).textTheme)}," Displaying data for last "+Y(a.filterTime)+" hour(s) on "+Y(a.filterDate),3)):ne("",!0),e("div",{ref_key:"chartRef",ref:u,style:{width:"100%",height:"600px"}},null,512)],14,ht)],64)}}}),wt={class:"cl-filter"},xt={key:0,class:"trunk-selector"},kt={style:{width:"500px",display:"flex",padding:"15px","flex-flow":"column"}},It=["value"],Tt={style:{width:"500px",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem",position:"relative"}},Mt={style:{display:"flex","flex-flow":"column","align-items":"center"}},Ct={style:{display:"flex","flex-flow":"row wrap","justify-content":"center"}},At=["onClick"],_t=fe({__name:"ChartLayerView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(X){const z=n(null),b=n(null),B=n(ze().getAllTrunk()),v=i=>new Date(i).toISOString(),h=X,L=n(h.dateFilter),O=n("15"),u=n({legend:{show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",name:"Time",data:[],nameGap:40,boundaryGap:0,nameLocation:"center",axisLabel:{show:!0,rotate:45,interval:i=>a.value[i]===void 0?!1:a.value[i].split(":")[1]%O.value===0},axisSplitLine:{show:!0,lineStyle:{type:"solid"}},axisLine:{show:!0,lineStyle:{type:"solid"}}},yAxis:{type:"value",min:0,max:550,interval:50,minorTick:{show:!0},scale:!0,nameLocation:"center",nameGap:50,boundaryGap:0,splitLine:{show:!0,lineStyle:{type:"solid",color:"#00000055"}},minorSplitLine:{show:!0,lineStyle:{type:"dashed",color:"#00000022"}},axisTick:{show:!0},name:"Pressure (PSI)",axisLine:{show:!0}},series:[]});q(()=>O.value,()=>{u.value.xAxis.axisLabel.interval=i=>a.value[i].split(":")[1]%O.value===0,x()}),q(()=>L.value,()=>{Object.keys(c.value).length>0&&H()});const c=n({}),N=n(),x=()=>{b.value.setOption(u.value)};q(()=>z.value,()=>{b.value=be(z.value),x()});const A=n({}),a=n([]),r=n(!1),E=()=>{const i=N.value,o=B.value[i].name,g=B.value[i].spot;c.value[o]=g,r.value=!1,A.value={},a.value=[],b.value.clear(),u.value.series=[],b.value.setOption(u.value),H()},H=()=>{Object.keys(c.value).forEach(async i=>{const o=[],g=[];for(let f=0;f<c.value[i].length;f++){const ie={id:c.value[i][f].id+"",date:v(L.value),timespan:h.timeFilter+"",firstrequest:!0},$=await he().httpPost("api/Data/getsingledata",ie),Q=$.map(m=>m.psiValue.toFixed(2));g.push({type:"line",data:Q,smooth:!1,symbol:"none",name:c.value[i][f].name});const F=$.map(m=>et(m.timestamp).format("HH:mm"));for(let m=0;m<F.length;m++)o.includes(F[m])||o.push(F[m])}A.value[i]=g,a.value=o})};q(()=>A,()=>{b.value.clear(),b.value.setOption(u.value),_()},{deep:!0});const _=()=>{u.value.xAxis.data=a.value,Object.keys(A.value).forEach(i=>{for(let o=0;o<A.value[i].length;o++)u.value.series.push(A.value[i][o])}),b.value.setOption(u.value)},k=i=>{delete c.value[i],H()};return(i,o)=>{const g=Se("font-awesome-icon");return S(),M(pe,null,[e("div",wt,[r.value?(S(),M("div",xt,[e("button",{onClick:o[0]||(o[0]=f=>r.value=!r.value),type:"button",class:"drwclose"},[l(g,{icon:"close"})]),e("div",kt,[o[7]||(o[7]=e("h5",null,[e("b",null,"Trunkline Preference")],-1)),l(ve,{"in-label":"Trunkline",style:{width:"100%"},"model-value":N.value,"onUpdate:modelValue":o[1]||(o[1]=f=>N.value=f)},{default:C(()=>[o[5]||(o[5]=e("option",{selected:"",value:""},"Select Trunkline...",-1)),(S(!0),M(pe,null,ye(B.value,(f,V)=>(S(),M("option",{key:V,value:V},Y(f.name),9,It))),128))]),_:1},8,["model-value"]),l(W,{onClick:E,"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content",padding:"13px",width:"170px"}},{default:C(()=>o[6]||(o[6]=[se("Load into Chart")])),_:1})])])):ne("",!0),o[9]||(o[9]=e("h3",null,[e("b",null,"Chart Layer")],-1)),e("div",Tt,[l(ue,{"in-type":"date","in-label":"Date Filter","model-value":L.value,"onUpdate:modelValue":o[2]||(o[2]=f=>L.value=f)},null,8,["model-value"]),l(ve,{"in-label":"X-Axis Gap",style:{width:"100%"},"model-value":O.value,"onUpdate:modelValue":o[3]||(o[3]=f=>O.value=f)},{default:C(()=>o[8]||(o[8]=[e("option",{value:"5"},"5 Minutes",-1),e("option",{value:"10"},"10 Minutes",-1),e("option",{value:"15"},"15 Minutes",-1),e("option",{value:"30"},"30 Minutes",-1),e("option",{value:"45"},"45 Minutes",-1),e("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"]),l(W,{onClick:o[4]||(o[4]=f=>r.value=!r.value),"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content","margin-top":"36px",padding:"13px"}},{default:C(()=>[l(g,{icon:"plus"})]),_:1})])]),e("div",{ref_key:"chart",ref:z,style:{width:"100%",height:"480px"}},null,512),o[11]||(o[11]=e("hr",null,null,-1)),e("div",Mt,[o[10]||(o[10]=e("label",null,[e("b",null,"Active Trunklines")],-1)),e("div",Ct,[(S(!0),M(pe,null,ye(c.value,(f,V)=>(S(),M("span",{class:"active-trunklines",key:V,onClick:ie=>k(V),style:{margin:"5px"}},[e("span",null,Y(V),1)],8,At))),128))])])],64)}}}),$t=Te(_t,[["__scopeId","data-v-a1bd2a50"]]),Ot={key:0,class:"chart-layer"},Gt={class:"chart-layer-inner"},Dt={key:1,class:"live-window"},Pt={key:2,class:"live-window"},Lt={key:3,class:"drw-wd"},Nt={class:"row"},Vt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Ft={class:"col-md-12"},Bt={class:"col-md-12"},Ut={style:{display:"flex","flex-flow":"row nowrap",gap:"0.4rem"}},Rt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},qt={class:"spot-reading-control"},Kt={class:"spot-basket"},jt=["onClick","onDblclick"],zt={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Ae=1,Et=15,_e=2,Ht=16,$e=3,Oe=4,Ge=5,De=6,Pe=7,Le=8,Ne=9,Ve=10,Fe=11,Be=12,Ue=13,Re=14,qe=17,na=fe({__name:"MonitoringFol",setup(X){const z=he(),b=ge();b.asideToggle(!0);const B=n(null),v=n(!1),h=n(350),L=n(0),O=n(30),u=n(7e3),c=n(!1),N=n(""),x=n(!1),A=n(24),a=n(!1),r=n([]),E=n(0),H=y=>Object.keys(y),_=()=>{E.value<r.value.length&&setTimeout(()=>{E.value++,_()},100)},k=()=>{const y=new Date,s=y.getFullYear(),d=String(y.getMonth()+1).padStart(2,"0"),t=String(y.getDate()).padStart(2,"0"),re=`${s}-${d}-${t}`;N.value=re};ke(()=>{k(),_()});const i=()=>{a.value=!0},o=y=>{a.value=!1,r.value.some(d=>d[y.id])?b.notifyShowError("Selected spot already displayed"):r.value.push({[y.id]:y})},g=y=>{r.value=r.value.filter(s=>!s[y])};(()=>{r.value.push({1:{id:Ae,name:"MGS BJG (1)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),r.value.push({15:{id:Et,name:"MGS BJG (2)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),r.value.push({2:{id:_e,name:"BOOSTER (MOS TPN)",desc:"Tempino",safemark:85,yMax:400,yInterval:50}}),r.value.push({16:{id:Ht,name:"MGS BJG (3)",desc:"Tempino",safemark:85,yMax:100,yInterval:10}}),r.value.push({3:{id:$e,name:"MGS KAS",desc:"Kenali Asam Atas",safemark:140,yMax:400,yInterval:50}}),r.value.push({4:{id:Oe,name:"MOS TPN",desc:"Tempino",safemark:25,yMax:100,yInterval:10}}),r.value.push({5:{id:Ge,name:"GS 02 SGL",desc:"Sungai Gelam",safemark:287,yMax:500,yInterval:50}}),r.value.push({6:{id:De,name:"GS 02 SGL (2)",desc:"Sungai Gelam",safemark:0,yMax:400,yInterval:50}}),r.value.push({7:{id:Pe,name:"GS 02 SGL (3)",desc:"Sungai Gelam",safemark:0,yMax:200,yInterval:50}}),r.value.push({8:{id:Le,name:"GS 01 KTT",desc:"Ketaling",safemark:242,yMax:500,yInterval:50}}),r.value.push({9:{id:Ne,name:"MGS TPN",desc:"Tempino",safemark:43,yMax:300,yInterval:50}}),r.value.push({10:{id:Ve,name:"0 KM SP BETUNG",desc:"Betung",safemark:0,yMax:400,yInterval:50}}),r.value.push({11:{id:Fe,name:"5.3 KM SIMP. PASAR GAJAH (5.3)",desc:"Pasar Gajah",safemark:0,yMax:300,yInterval:50}}),r.value.push({12:{id:Be,name:"9.5 KM SANDTRAP II (4.2)",desc:"Sandtrap",safemark:0,yMax:100,yInterval:10}}),r.value.push({13:{id:Ue,name:"13.8 KM MGS BJG (4.3)",desc:"Bajubang",safemark:0,yMax:200,yInterval:20}}),r.value.push({14:{id:Re,name:"MINIATUR (CIP)",desc:"Miniatur",safemark:0,yMax:100,yInterval:10}}),r.value.push({17:{id:qe,name:"CF KAS",desc:"Kenali Asam Atas",safemark:140,yMax:100,yInterval:10}})})();const V=n(!1),ie=()=>{V.value=!V.value},J=()=>{V.value=!1,b.notifyShow("Options has been applied")},$=y=>{const s=document.getElementById("chart"+y);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},Q=()=>{v.value=!v.value},F=y=>{r.value=r.value.filter(s=>!s[y])};let m=n([]);const D=y=>{m.value.push({id:y});const s=`spotdata-${y}`,d=document.querySelector(`.${s}`);d?(d.style.background="red",d.style.color="white"):console.warn(`Element dengan class ${s} gak ditemukan bro!`)},G=y=>{const s=`spotdata-${y}`,d=document.querySelector(`.${s}`);d?(d.style.background="#000",d.style.color="#fff"):console.warn(`Element dengan class ${s} gak ditemukan bro!`);const t=m.value.findIndex(re=>re.id===y);m.value.splice(t,1)},j=y=>{const s=Object.keys(y)[0];return y[s].id},U=()=>{c.value=!1},te=()=>{c.value=!0},ae=y=>new Date(y).toISOString(),ce=async y=>new Promise(async(s,d)=>{try{const t={id:y,date:ae(N.value),timespan:A.value+"",firstrequest:!1},re=await z.httpPost("api/Data/getsingledata",t).then(R=>{const Ee=R.map(we=>{const Je=we.timestamp.replace(".",":").split("T")[1],[We,Xe]=Je.split(":");return`${We}:${Xe}`}),He=R.map(we=>parseFloat(we.psiValue).toFixed(2));s({cats:Ee,series:He})}).catch(R=>{d(R)})}catch(t){d(t)}}),w=n(!1),p=y=>{c.value=!0,w.value=!0,setTimeout(()=>{Z(y)},3e3)},Z=async y=>{const s=be(B.value);await ce(y).then(d=>{const t=d.cats,re=d.series,R={graphic:[{type:"rect",shape:{x:0,y:0,width:s.getWidth(),height:s.getHeight()},style:{fill:"transparent"}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:t},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:re,color:t.map(()=>`${b.accentColor}`)}]};s.setOption(R),s.setOption({yAxis:{name:"Pressure (PSI)"}})})},I=()=>{w.value=!1},le=n(!1),me=()=>{le.value=!1},T=n(!1),P=n(!1);return q(()=>P.value,()=>{P.value?c.value=!0:c.value=!1}),(y,s)=>{const d=Se("font-awesome-icon");return S(),M(pe,null,[P.value?(S(),M("div",Ot,[e("div",Gt,[e("button",{onClick:s[0]||(s[0]=t=>P.value=!P.value),type:"button",class:"drwclose"},[l(d,{icon:"close"})]),l($t,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])])])):ne("",!0),T.value?(S(),M("div",Dt,[e("div",{class:oe(["live-window-inner",[`${K(b).mTheme}`]])},[e("button",{onClick:s[1]||(s[1]=t=>T.value=!T.value),type:"button",class:"drwclose"},[l(d,{icon:"close"})]),l(ft,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])],2)])):ne("",!0),le.value?(S(),M("div",Pt,[e("div",{class:oe(["live-window-inner",[`${K(b).mTheme}`]])},[e("button",{type:"button",class:"drwclose",onClick:me},[l(d,{icon:"close"})]),l(dt,{"date-filter":N.value,"time-filter":A.value},null,8,["date-filter","time-filter"])],2)])):ne("",!0),w.value?(S(),M("div",Lt,[e("div",{class:"drw-inner",style:de({background:`${K(b).themeDarkColor}`})},[e("button",{onClick:I,type:"button",style:de({color:`${K(b).accentColor}`}),class:"drwclose"},[l(d,{icon:"close"})],4),e("div",{ref_key:"eCharts",ref:B,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ne("",!0),l(xe,{"mod-show":a.value,"onUpdate:modShow":s[2]||(s[2]=t=>a.value=t),"mod-title":"Select spot"},{default:C(()=>[l(ee,{onOnItemSelect:o,"item-id":Ae,"item-name":"MGS BJG","item-desc":"Bajubang","item-safemark":136}),l(ee,{onOnItemSelect:o,"item-id":_e,"item-name":"BOOSTER (MOS TPN)","item-desc":"Tempino","item-safemark":85}),l(ee,{onOnItemSelect:o,"item-id":$e,"item-name":"MGS KAS","item-desc":"Kenali Asam Atas","item-safemark":140}),l(ee,{onOnItemSelect:o,"item-id":Oe,"item-name":"MOS TPN","item-desc":"Tempino","item-safemark":25}),l(ee,{onOnItemSelect:o,"item-id":Ge,"item-name":"GS 02 SGL","item-desc":"Sungai Gelam","item-safemark":287}),l(ee,{onOnItemSelect:o,"item-id":De,"item-name":"GS 02 SGL (2)","item-desc":"Sungai Gelam","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Pe,"item-name":"GS 02 SGL (3)","item-desc":"Sungai Gelam","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Le,"item-name":"GS 01 KTT","item-desc":"Ketaling","item-safemark":242}),l(ee,{onOnItemSelect:o,"item-id":Ne,"item-name":"MGS TPN","item-desc":"Tempino","item-safemark":43}),l(ee,{onOnItemSelect:o,"item-id":Ve,"item-name":"0 KM SP BETUNG","item-desc":"Betung","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Fe,"item-name":"5.3 KM SIMP. PASAR GAJAH (5.3)","item-desc":"Pasar Gajah","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Be,"item-name":"9.5 KM SANDTRAP II (4.2)","item-desc":"Sandtrap","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Ue,"item-name":"13.8 KM MGS BJG (4.3)","item-desc":"Bajubang","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":Re,"item-name":"MINIATUR (CIP)","item-desc":"Miniatur","item-safemark":0}),l(ee,{onOnItemSelect:o,"item-id":qe,"item-name":"CF KAS","item-desc":"Kenali Asam Atas","item-safemark":0})]),_:1},8,["mod-show"]),l(xe,{"mod-show":V.value,"onUpdate:modShow":s[8]||(s[8]=t=>V.value=t),"mod-title":"Global Chart Preference"},{default:C(()=>[e("p",{style:de({color:K(b).accentColor})},"These parameters applies to all displayed charts",4),l(ue,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":h.value,"onUpdate:modelValue":s[3]||(s[3]=t=>h.value=t)},null,8,["model-value"]),l(ue,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":L.value,"onUpdate:modelValue":s[4]||(s[4]=t=>L.value=t)},null,8,["model-value"]),l(ue,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":O.value,"onUpdate:modelValue":s[5]||(s[5]=t=>O.value=t)},null,8,["model-value"]),l(ue,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":u.value,"onUpdate:modelValue":s[6]||(s[6]=t=>u.value=t)},null,8,["model-value"]),l(ve,{"in-label":"Curve Type","model-value":x.value,"onUpdate:modelValue":s[7]||(s[7]=t=>x.value=t)},{default:C(()=>s[14]||(s[14]=[e("option",{value:!0},"Smooth",-1),e("option",{value:!1},"Straight",-1)])),_:1},8,["model-value"]),l(W,{onClick:J,"bt-type":"button","bt-disabled":!1},{default:C(()=>s[15]||(s[15]=[se("Dismiss")])),_:1})]),_:1},8,["mod-show"]),l(Ye,{"context-title":"Monitoring FOL"},{default:C(()=>[e("div",Nt,[e("div",Vt,[l(W,{onClick:ie,"bt-size":"small","bt-disabled":!1},{default:C(()=>[l(d,{icon:"sliders"}),s[16]||(s[16]=se(" Global Chart Preferences"))]),_:1})]),e("div",Ft,[l(ue,{"in-type":"date","in-label":"Date Filter","model-value":N.value,"onUpdate:modelValue":s[9]||(s[9]=t=>N.value=t)},null,8,["model-value"]),l(ve,{"in-label":"Time Range Filter","model-value":A.value,"onUpdate:modelValue":s[10]||(s[10]=t=>A.value=t)},{default:C(()=>s[17]||(s[17]=[e("option",{value:"1"},"1 Hour",-1),e("option",{value:"3"},"3 Hours",-1),e("option",{value:"6"},"6 Hours",-1),e("option",{value:"12"},"12 Hours",-1),e("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),e("div",Bt,[e("div",Ut,[l(W,{onClick:s[11]||(s[11]=t=>le.value=!le.value),"bt-size":"small","bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[18]||(s[18]=se(" Live Monitor "))]),_:1}),l(W,{"bt-size":"small",onClick:s[12]||(s[12]=t=>T.value=!T.value),"bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[19]||(s[19]=se("Trunkline Monitor "))]),_:1}),l(W,{"bt-size":"small",onClick:s[13]||(s[13]=t=>P.value=!P.value),"bt-disabled":!1},{default:C(()=>[l(d,{icon:"chart-line"}),s[20]||(s[20]=se("Chart Layer "))]),_:1})])]),e("div",Rt,[l(W,{onClick:i,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(d,{icon:"add"}),s[21]||(s[21]=se(" Add Chart"))]),_:1})]),e("div",qt,[l(W,{onClick:U,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(d,{icon:"play"}),s[22]||(s[22]=se(" Resume All"))]),_:1}),l(W,{onClick:te,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:C(()=>[l(d,{icon:"pause"}),s[23]||(s[23]=se(" Pause All"))]),_:1})]),e("div",Kt,[(S(!0),M(pe,null,ye(r.value,(t,re)=>(S(),M("span",{title:"Click to navigate to this spot",key:re,class:oe(["spot-data",[`spotdata-${j(t)}`]]),onClick:R=>$(Object.keys(t)[0]),onDblclick:R=>g(Object.keys(t)[0])},[(S(!0),M(pe,null,ye(H(t),R=>(S(),M("span",{key:R},Y(t[R].name+" - "+t[R].desc),1))),128))],42,jt))),128))]),r.value.length?(S(),M("div",zt,[l(W,{onClick:Q,"bt-disabled":!1,"bt-size":"small"},{default:C(()=>[l(d,{icon:v.value?"grip-vertical":"expand"},null,8,["icon"]),se(" "+Y(v.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ne("",!0),e("div",{style:{},class:oe(v.value?"chart-basket-gridview":"chart-basket-fullview")},[(S(!0),M(pe,null,ye(r.value,(t,re)=>(S(),M("div",{key:re},[(S(!0),M(pe,null,ye(H(t),R=>(S(),M("div",{key:R,class:"chart-wrapper"},[re<E.value?(S(),je(St,{key:0,onOnChartReady:_,id:"chart"+Object.keys(t)[0],"chart-name":t[R].name,"filter-date":N.value,"filter-time":A.value,"safe-mark":t[R].safemark,"spot-id":R,"curve-type":x.value,"y-max":t[R].yMax,"y-min":L.value,"tick-amount":O.value,"y-interval":t[R].yInterval,"data-fetch-interval":u.value,gridview:v.value,"is-data-paused":c.value,onOnDrawingMode:p,onOnChartClose:F,onOnPause:D,onOnResume:G},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ne("",!0)]))),128))]))),128))],2)])])]),_:1})],64)}}});export{na as default};
