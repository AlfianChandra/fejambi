import{u as fe}from"./theme-TwSCPrE_.js";import{d as Ee,i as Se}from"./index-CehbAW_K.js";import{_ as Xe}from"./MainWrapperView.vue_vue_type_style_index_0_lang-BaqJivFC.js";import{_ as ue}from"./InputView.vue_vue_type_style_index_0_lang-FA-TSYvc.js";import{_ as pe}from"./SelectView.vue_vue_type_style_index_0_lang-DJq8gQAQ.js";import{_ as J}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-U6sDCtyz.js";import{d as ye,r as we,o as x,c as I,g as t,h as de,u as U,a,n as se,t as Y,s as Ye,m as ie,q as le,w as T,e as s,l as B,j as Ie,k as Te,p as ve,_ as Me,v as Ce,x as Ae,f as ze,F as me,y as he}from"./index-B0-uK0QQ.js";import{a as ge}from"./axios-BimPEqV4.js";import{t as Ke}from"./trunk-CuaAdnZJ.js";import{_ as Qe}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-DJtG2lqe.js";import{h as Ze}from"./moment-C5S46NFB.js";const et={key:0,class:"mod-overlay"},tt={class:"mod-heading"},at={class:"mod-body"},ke=ye({__name:"ModalEditorView",props:{modTitle:{type:String,required:!0},modShow:{type:Boolean,default:!0}},emits:["update:modShow"],setup(W,{emit:L}){const V=fe(),M=W,y=L,f=()=>{y("update:modShow",!M.modShow)};return(P,$)=>{const d=we("font-awesome-icon");return W.modShow?(x(),I("div",et,[t("div",{class:se(["mod-content",U(V).mTheme])},[t("button",{onClick:f,type:"button",class:"mod-dismiss",style:de({color:U(V).accentColor})},[a(d,{icon:"times"})],4),t("div",tt,[t("h4",{class:se(U(V).textTheme)},[t("b",null,Y(W.modTitle),1)],2)]),t("div",at,[Ye(P.$slots,"default")])],2)])):ie("",!0)}}}),lt={class:"itemlist-wrapper"},st={class:"itemlist-group"},ee=ye({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:[String,Number],required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(W,{emit:L}){const V=fe(),M=L,y=W,f=()=>{M("onItemSelect",{id:y.itemId,name:y.itemName,desc:y.itemDesc})};return(P,$)=>{const d=we("font-awesome-icon");return x(),I("div",lt,[t("div",st,[t("span",{style:de({color:U(V).accentColor})},[t("b",null,Y(W.itemName),1)],4),t("span",{style:de({color:U(V).accentColor})},[a(d,{icon:"map-pin"}),le(" "+Y(W.itemDesc),1)],4)]),a(J,{onClick:f,"bt-disabled":!1,"bt-size":"small"},{default:T(()=>[a(d,{icon:"plus"})]),_:1})])}}}),ot={class:"chart-containers"},nt={class:"col-md-4"},it={class:"loaderparent"},rt=ye({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(W){const L=W,V=s(!0),M=s(null),y=s(null),f=fe(),P=s(15),$=s([]),d=s(0),m=s("Building chart..."),j=s("Initializing..."),h=s(0),N=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),e=G=>new Date(G).toISOString(),q=async()=>new Promise((G,k)=>{ge.get(ve.baseEnd+"api/Spot/getspots",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}}).then(r=>{G(r.data)}).catch(r=>{console.error(r),k(r)})});B(()=>M.value,async()=>{X(),await q().then(G=>{$.value=G})});const X=()=>{if(d.value=5,M.value){const G=Se(M.value);y.value=G,y.value.setOption(N.value)}},E=async()=>new Promise(async(G,k)=>{try{const r=[],n=new Set,b=$.value.length;let c=0;j.value="Setting up...";for(let C=0;C<$.value.length;C++){j.value=`Applying filter for ${$.value[C].spotName}...`;const Q={id:$.value[C].id+"",date:e(L.dateFilter),timespan:L.timeFilter+"",firstrequest:V.value},_=await ge.post(ve.baseEnd+"api/Data/getsingledata",Q,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});for(let z=0;z<_.data.length;z++)setTimeout(()=>{h.value++},1);const v=_.data.map(z=>{const te=z.timestamp.replace(".",":").split("T")[1],[ae,oe]=te.split(":"),A=`${ae}:${oe}`;return n.add(A),A}),D=_.data.map(z=>parseFloat(z.psiValue));r.push({psies:D,categories:v}),c+=1;const O=c/b*90;d.value=Math.round(O)}const R=Array.from(n).sort((C,Q)=>{const[_,v]=C.split(":").map(Number),[D,O]=Q.split(":").map(Number);return _!==D?_-D:v-O}),re=r.map((C,Q)=>{const _={};C.categories.forEach((D,O)=>{_[D]=C.psies[O]});const v=R.map(D=>_[D]!==void 0?parseFloat(_[D]):null);return{name:`${$.value[Q].spotName}`,type:"line",data:v,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(D){let O=0;const z=r[D.seriesIndex].psies.length;for(let F=0;F<z;F++)r[D.seriesIndex].psies[F]!==null&&(O=r[D.seriesIndex].psies[F].toFixed(2));return O}}}}),K={backgroundColor:"transparent",legend:{data:re.map(C=>({name:C.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:R,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(C){return C.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${f.accentColor}`,rotate:-45,interval:C=>{const[Q,_]=R[C].split(":").map(Number);return _%P.value===0},formatter:function(C){return C}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:re};G(K)}catch(r){console.error(r),k(r)}});return B(()=>$.value,async()=>{await E().then(G=>{y.value.setOption(G),j.value="Drawing series...",d.value=99.99,setTimeout(()=>{d.value=100,h.value=0},2e3)})}),B(()=>P.value,async()=>{d.value=5,j.value="Setting up...",m.value="Options & filter updated. Rebuilding chart with new series...",y.value&&(y.value=null),X(),setTimeout(async()=>{await E().then(G=>{y.value.setOption(G),d.value=99.99,j.value="Drawing series...",setTimeout(()=>{d.value=100,h.value=0},2e3)})},1e3)}),Ie(()=>{X()}),Te(()=>{M.value&&Ee(M.value)}),(G,k)=>(x(),I("div",ot,[t("h3",{style:{padding:"15px"},class:se([`${U(f).textTheme}`])},k[1]||(k[1]=[t("b",null,"Live Monitor Chart",-1)]),2),t("div",nt,[a(pe,{"in-label":"X-Axis Time Split","model-value":P.value,"onUpdate:modelValue":k[0]||(k[0]=r=>P.value=r)},{default:T(()=>k[2]||(k[2]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),t("div",{ref_key:"chart",ref:M,style:{width:"100%",position:"relative",height:"90%"}},null,512),d.value!=100?(x(),I("div",{key:0,class:se(["chartloader",[`${U(f).mTheme}`]])},[k[3]||(k[3]=t("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),t("span",{class:se([`${U(f).textTheme}`])},Y(m.value)+" ("+Y(h.value)+" objects collected)",3),t("span",{style:de({color:`${U(f).accentColorSecondary}`})},Y(j.value),5),t("div",it,[t("span",{style:de({width:`${d.value}%`,background:`${U(f).accentColor}`}),class:"loaderinner"},null,4)])],2)):ie("",!0)]))}}),ut=Me(rt,[["__scopeId","data-v-aab0eb87"]]),dt={class:"chart-containers"},ct={class:"col-md-4"},mt={class:"loaderparent"},pt=ye({__name:"LiveMonitorSegmentView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(W){const L=Ke(),V=W,M=s(!0),y=s(null),f=s(null),P=fe(),$=s(15),d=s([]),m=s(0),j=s("Building chart..."),h=s("Initializing..."),N=s(0),e=s("trunk1"),q=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),X=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),E=n=>new Date(n).toISOString(),G=()=>{d.value=L.getTrunk(e.value).spot};B(()=>y.value,()=>{k(),G()});const k=()=>{if(m.value=5,y.value){const n=Se(y.value);f.value=n,f.value.setOption(q.value)}},r=async()=>new Promise(async(n,b)=>{try{const c=[],R=new Set,re=d.value.length;let K=0;h.value="Setting up...";for(let v=0;v<d.value.length;v++){h.value=`Applying filter for ${d.value[v].spotName}...`;const D={id:d.value[v].id+"",date:E(V.dateFilter),timespan:V.timeFilter+"",firstrequest:M.value},O=await ge.post(ve.baseEnd+"api/Data/getsingledata",D,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});for(let ae=0;ae<O.data.length;ae++)setTimeout(()=>{N.value++},1);const z=O.data.map(ae=>{const A=ae.timestamp.replace(".",":").split("T")[1],[p,Z]=A.split(":"),S=`${p}:${Z}`;return R.add(S),S}),F=O.data.map(ae=>parseFloat(ae.psiValue));c.push({psies:F,categories:z}),K+=1;const te=K/re*90;m.value=Math.round(te)}const C=Array.from(R).sort((v,D)=>{const[O,z]=v.split(":").map(Number),[F,te]=D.split(":").map(Number);return O!==F?O-F:z-te}),Q=c.map((v,D)=>{const O={};v.categories.forEach((F,te)=>{O[F]=v.psies[te]});const z=C.map(F=>O[F]!==void 0?parseFloat(O[F]):null);return{name:`${d.value[D].spotName}`,type:"line",data:z,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:2},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(F){let te=0;const ae=c[F.seriesIndex].psies.length;for(let oe=0;oe<ae;oe++)c[F.seriesIndex].psies[oe]!==null&&(te=c[F.seriesIndex].psies[oe].toFixed(2));return te}}}}),_={backgroundColor:"transparent",legend:{data:Q.map(v=>({name:v.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:C,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(v){return v.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${P.accentColor}`,rotate:-45,interval:v=>{const[D,O]=C[v].split(":").map(Number);return O%$.value===0},formatter:function(v){return v}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:Q};n(_)}catch(c){console.error(c),b(c)}});return B(()=>d.value,async()=>{await r().then(n=>{f.value.setOption(n),h.value="Drawing series...",m.value=99.99,setTimeout(()=>{m.value=100,N.value=0},2e3)})}),B(()=>$.value,async()=>{m.value=5,h.value="Setting up...",j.value="Options & filter updated. Rebuilding chart with new series...",f.value&&(f.value=null),k(),setTimeout(async()=>{await r().then(n=>{f.value.setOption(n),m.value=99.99,h.value="Drawing series...",setTimeout(()=>{m.value=100,N.value=0},2e3)})},1e3)}),Ie(()=>{k()}),Te(()=>{y.value&&Ee(y.value)}),B(()=>e.value,()=>{d.value=L.getTrunk(e.value).spot,f.value.clear(),f.value.setOption(X),k()}),(n,b)=>(x(),I("div",dt,[t("h3",{style:{padding:"15px"},class:se([`${U(P).textTheme}`])},b[2]||(b[2]=[t("b",null,"Live Monitor Chart",-1)]),2),t("div",ct,[a(pe,{"in-label":"Select Spot","model-value":e.value,"onUpdate:modelValue":b[0]||(b[0]=c=>e.value=c)},{default:T(()=>b[3]||(b[3]=[t("option",{value:"trunk1"},"MGS BJG - BOOSTER",-1),t("option",{value:"trunk2"},"MGS KAS - MOS SPPP",-1),t("option",{value:"trunk3"},"SGL LINE",-1),t("option",{value:"trunk4"},"BETUNG - BAJUBANG",-1)])),_:1},8,["model-value"]),a(pe,{"in-label":"X-Axis Time Split","model-value":$.value,"onUpdate:modelValue":b[1]||(b[1]=c=>$.value=c)},{default:T(()=>b[4]||(b[4]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),t("div",{ref_key:"chart",ref:y,style:{width:"100%",position:"relative",height:"100%"}},null,512),m.value!=100?(x(),I("div",{key:0,class:se(["chartloader",[`${U(P).mTheme}`]])},[b[5]||(b[5]=t("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),t("span",{class:se([`${U(P).textTheme}`])},Y(j.value)+" ("+Y(N.value)+" objects collected)",3),t("span",{style:de({color:`${U(P).accentColorSecondary}`})},Y(h.value),5),t("div",mt,[t("span",{style:de({width:`${m.value}%`,background:`${U(P).accentColor}`}),class:"loaderinner"},null,4)])],2)):ie("",!0)]))}}),vt=Me(pt,[["__scopeId","data-v-95133cbd"]]),ft={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},yt=["id"],ht={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},gt={contenteditable:"true",spellcheck:"false"},bt=ye({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(W,{emit:L}){const V=s([]),M=s([]),y=L,f=fe(),P=s(!1),$=s(!0),d=s(null),m=s(null),j=s(!1),h=s(!1);let N;const e=W,q=s(e.safeMark),X=s(!1),E=s(e.yMax),G=s(e.yMin),k=s(e.tickAmount),r=s(50),n=s(e.dataFetchInterval),b=s(e.curveType),c=s(!0),R=s(!0);function re(A,p){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:k.value,axisLine:{show:!0,lineStyle:{color:f.accentColor}},splitLine:{show:R,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:0,max:A,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:c,lineStyle:{color:"#ddd",type:"dashed"}},interval:e.yInterval,axisLine:{show:!0,lineStyle:{color:f.accentColor}}}],series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:e.curveType,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(Z){const S=Z.dataIndex,ce=K.value.series[0].data;let ne=0;for(let i=0;i<ce.length;i++)ce[i]>ne&&(ne=ce[i]);let w=0,u=0;for(let i=0;i<ce.length;i++){const o=parseInt(ce[i]);(parseInt(e.spotId)==1&&o>=128&&o<=150||parseInt(e.spotId)==2&&o>=70&&o<=100||parseInt(e.spotId)==3&&o>=120&&o<=150||parseInt(e.spotId)==4&&o>=16&&o<=38||parseInt(e.spotId)==5&&o>=250&&o<=300||parseInt(e.spotId)==6&&o>=225&&o<=250||parseInt(e.spotId)==7&&o>=50&&o<=100||parseInt(e.spotId)==8&&o>=200&&o<=260||parseInt(e.spotId)==9&&o>=38&&o<=50||parseInt(e.spotId)==10&&o>=10&&o<=56||parseInt(e.spotId)==11&&o>=7&&o<=35||parseInt(e.spotId)==12&&o>=38&&o<=50||parseInt(e.spotId)==13&&o>=3&&o<=30||parseInt(e.spotId)==14&&o>=38&&o<=50||parseInt(e.spotId)==15&&o>=90&&o<=120||parseInt(e.spotId)==16&&o>=30&&o<=60)&&(w+=o,u++)}const l=w/u,g=ce.length-1;if(S===g){const i=Z.value,o=ne,be=(o-i)/o*100;return`Curr: ${Z.value}
Avg: ${l.toFixed(2)}
Del: ${be>0?"-"+be.toFixed(2):"+"+be.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:q.value}]}}]}}B(()=>q.value,()=>{var A;K.value.series[1].markLine.data[0].yAxis=q.value,(A=m.value)==null||A.setOption(K.value)});const K=s(re(e.yMax,e.curveType));B(()=>[E.value,G.value,k.value,n.value,b.value,r.value,c.value,R.value],()=>{m.value.setOption(K.value)});const C=()=>{var A;!m.value&&d.value&&(m.value=Se(d.value)),(A=m.value)==null||A.setOption(K.value)},Q=A=>new Date(A).toISOString(),_=async()=>{var p;const A={id:e.spotId,date:Q(e.filterDate),timespan:e.filterTime+""};try{const S=(await ge.post(ve.baseEnd+"api/Data/getalldata",A,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data,ce=S.map(w=>{const l=w.timestamp.replace(".",":").split("T")[1],[g,i]=l.split(":");return`${g}:${i}`}),ne=S.map(w=>parseFloat(w.psiValue).toFixed(2)).map(w=>parseFloat(w));V.value=ce,M.value=ne,ne.length?(j.value=!1,K.value.xAxis[0].data=ce,K.value.series[0].data=ne,(p=m.value)==null||p.setOption(K.value)):(j.value=!0,$.value=!1)}catch(Z){console.error("Error fetching chart data:",Z)}},v=()=>{const A=new Date().toISOString().slice(0,10);if(e.filterDate.slice(0,10)!==A){N&&clearInterval(N);return}else N&&clearInterval(N),N=setInterval(()=>{h.value||_()},n.value)};B(()=>d.value,()=>{d.value&&C()}),B(()=>e.gridview,()=>{m.value&&setTimeout(()=>{var A;(A=m.value)==null||A.resize()},500)}),B(()=>e.dataFetchInterval,()=>{n.value=e.dataFetchInterval,v()}),B(()=>[d.value],()=>{_(),v()}),Te(()=>{clearInterval(N)});let D=null;B(()=>[e.filterDate,e.filterTime,e.yMax,e.yMin,e.tickAmount,e.curveType],()=>{D&&clearTimeout(D),D=setTimeout(()=>{E.value=e.yMax,G.value=e.yMin,k.value=e.tickAmount,b.value=e.curveType,n.value=e.dataFetchInterval,K.value=re(e.yMax,e.curveType),$.value=!0,P.value=!1},300)});let O=null;B(()=>[E.value,G.value,k.value,n.value,b.value],()=>{O&&clearTimeout(O),O=setTimeout(()=>{_()},500)}),f.$subscribe((A,p)=>{setTimeout(()=>{_()},2e3)});const z=()=>{y("onChartClose",e.spotId)},F=()=>{X.value=!X.value},te=()=>{X.value=!1},ae=()=>{h.value=!h.value,h.value?y("onPause",e.spotId):y("onResume",e.spotId)};B(()=>[e.isDataPaused],()=>{h.value=e.isDataPaused,h.value?y("onPause",e.spotId):y("onResume",e.spotId)}),B(()=>h.value,()=>{h.value?y("onPause",e.spotId):y("onResume",e.spotId)}),B(()=>f.asideVisible,()=>{m.value&&setTimeout(()=>{var A;(A=m.value)==null||A.resize()},500)});const oe=()=>{y("onDrawingMode",e.spotId)};return(A,p)=>{const Z=we("font-awesome-icon");return x(),I(me,null,[a(ke,{"mod-show":X.value,"onUpdate:modShow":p[9]||(p[9]=S=>X.value=S),"mod-title":`${e.chartName} Preferences`},{default:T(()=>[a(ue,{"in-type":"number","in-label":"Safemark","model-value":q.value,"onUpdate:modelValue":p[0]||(p[0]=S=>q.value=S)},null,8,["model-value"]),a(ue,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":E.value,"onUpdate:modelValue":p[1]||(p[1]=S=>E.value=S)},null,8,["model-value"]),a(ue,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":G.value,"onUpdate:modelValue":p[2]||(p[2]=S=>G.value=S)},null,8,["model-value"]),a(ue,{"in-type":"number","in-label":"Y-Axis Interval","model-value":r.value,"onUpdate:modelValue":p[3]||(p[3]=S=>r.value=S)},null,8,["model-value"]),a(ue,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":k.value,"onUpdate:modelValue":p[4]||(p[4]=S=>k.value=S)},null,8,["model-value"]),a(ue,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":n.value,"onUpdate:modelValue":p[5]||(p[5]=S=>n.value=S)},null,8,["model-value"]),a(pe,{"in-label":"Curve Type","model-value":b.value,"onUpdate:modelValue":p[6]||(p[6]=S=>b.value=S)},{default:T(()=>p[10]||(p[10]=[t("option",{value:"true"},"Smooth",-1),t("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),t("div",ft,[t("label",null,[Ce(t("input",{type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=S=>c.value=S)},null,512),[[Ae,c.value]]),p[11]||(p[11]=le(" Show Y-Axis Minor Split "))]),t("label",null,[Ce(t("input",{type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=S=>R.value=S)},null,512),[[Ae,R.value]]),p[12]||(p[12]=le(" Show X-Axis Split "))])]),a(J,{onClick:te,"bt-type":"button","bt-disabled":!1},{default:T(()=>p[13]||(p[13]=[le("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),t("div",{id:`chart${e.spotId}`,style:de({width:e.gridview?U(f).asideVisible?"680px":"600.5px":"100%"}),class:se(["chartwrap",h.value?"chartwrap-paused":""])},[e.showUis?(x(),I("div",ht,[a(J,{onClick:oe,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:T(()=>[a(Z,{icon:"edit"})]),_:1}),a(J,{onClick:ae,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:T(()=>[a(Z,{icon:h.value?"pause":"play"},null,8,["icon"])]),_:1}),M.value.length?(x(),ze(J,{key:0,onClick:F,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[a(Z,{icon:"sliders"})]),_:1})):ie("",!0),a(J,{onClick:z,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[a(Z,{icon:"close"})]),_:1})])):ie("",!0),a(Qe,{"id-spot":parseInt(e.spotId)},null,8,["id-spot"]),t("h4",{style:de({textAlign:"center",color:U(f).accentColor})},[t("b",gt,"SPOT: "+Y(e.chartName),1)],4),M.value.length?(x(),I("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:se(U(f).textTheme)}," Displaying data for last "+Y(e.filterTime)+" hour(s) on "+Y(e.filterDate),3)):ie("",!0),t("div",{ref_key:"chartRef",ref:d,style:{width:"100%",height:"600px"}},null,512)],14,yt)],64)}}}),St={class:"cl-filter"},wt={key:0,class:"trunk-selector"},xt={style:{width:"500px",display:"flex",padding:"15px","flex-flow":"column"}},kt=["value"],It={style:{width:"500px",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem",position:"relative"}},Tt={style:{display:"flex","flex-flow":"column","align-items":"center"}},Mt={style:{display:"flex","flex-flow":"row wrap","justify-content":"center"}},Ct=["onClick"],At=ye({__name:"ChartLayerView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(W){const L=s(null),V=s(null),M=s(Ke().getAllTrunk());s(Object.keys(M)),fe();const y=r=>new Date(r).toISOString(),f=W,P=s(f.dateFilter),$=s("15"),d=s({legend:{show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",name:"Time",data:[],nameGap:40,boundaryGap:0,nameLocation:"center",axisLabel:{show:!0,rotate:45,interval:r=>e.value[r]===void 0?!1:e.value[r].split(":")[1]%$.value===0},axisSplitLine:{show:!0,lineStyle:{type:"solid"}},axisLine:{show:!0,lineStyle:{type:"solid"}}},yAxis:{type:"value",min:0,max:550,interval:50,minorTick:{show:!0},scale:!0,nameLocation:"center",nameGap:50,boundaryGap:0,splitLine:{show:!0,lineStyle:{type:"solid",color:"#00000055"}},minorSplitLine:{show:!0,lineStyle:{type:"dashed",color:"#00000022"}},axisTick:{show:!0},name:"Pressure (PSI)",axisLine:{show:!0}},series:[]});B(()=>$.value,()=>{d.value.xAxis.axisLabel.interval=r=>e.value[r].split(":")[1]%$.value===0,h()}),B(()=>P.value,()=>{Object.keys(m.value).length>0&&E()});const m=s({}),j=s(),h=()=>{V.value.setOption(d.value)};B(()=>L.value,()=>{V.value=Se(L.value),h()});const N=s({}),e=s([]),q=s(!1),X=()=>{const r=j.value,n=M.value[r].name,b=M.value[r].spot;m.value[n]=b,q.value=!1,N.value={},e.value=[],V.value.clear(),d.value.series=[],V.value.setOption(d.value),E()},E=()=>{Object.keys(m.value).forEach(async r=>{const n=[],b=[];for(let c=0;c<m.value[r].length;c++){const re={id:m.value[r][c].id+"",date:y(P.value),timespan:f.timeFilter+"",firstrequest:!0},C=(await ge.post(ve.baseEnd+"api/Data/getsingledata",re,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data,Q=C.map(v=>v.psiValue.toFixed(2));b.push({type:"line",data:Q,smooth:!1,symbol:"none",name:m.value[r][c].name});const _=C.map(v=>Ze(v.timestamp).format("HH:mm"));for(let v=0;v<_.length;v++)n.includes(_[v])||n.push(_[v])}N.value[r]=b,e.value=n})};B(()=>N,()=>{V.value.clear(),V.value.setOption(d.value),G()},{deep:!0});const G=()=>{d.value.xAxis.data=e.value,Object.keys(N.value).forEach(r=>{for(let n=0;n<N.value[r].length;n++)d.value.series.push(N.value[r][n])}),V.value.setOption(d.value)},k=r=>{delete m.value[r],E()};return(r,n)=>{const b=we("font-awesome-icon");return x(),I(me,null,[t("div",St,[q.value?(x(),I("div",wt,[t("button",{onClick:n[0]||(n[0]=c=>q.value=!q.value),type:"button",class:"drwclose"},[a(b,{icon:"close"})]),t("div",xt,[n[7]||(n[7]=t("h5",null,[t("b",null,"Trunkline Preference")],-1)),a(pe,{"in-label":"Trunkline",style:{width:"100%"},"model-value":j.value,"onUpdate:modelValue":n[1]||(n[1]=c=>j.value=c)},{default:T(()=>[n[5]||(n[5]=t("option",{selected:"",value:""},"Select Trunkline...",-1)),(x(!0),I(me,null,he(M.value,(c,R)=>(x(),I("option",{key:R,value:R},Y(c.name),9,kt))),128))]),_:1},8,["model-value"]),a(J,{onClick:X,"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content",padding:"13px",width:"170px"}},{default:T(()=>n[6]||(n[6]=[le("Load into Chart")])),_:1})])])):ie("",!0),n[9]||(n[9]=t("h3",null,[t("b",null,"Chart Layer")],-1)),t("div",It,[a(ue,{"in-type":"date","in-label":"Date Filter","model-value":P.value,"onUpdate:modelValue":n[2]||(n[2]=c=>P.value=c)},null,8,["model-value"]),a(pe,{"in-label":"X-Axis Gap",style:{width:"100%"},"model-value":$.value,"onUpdate:modelValue":n[3]||(n[3]=c=>$.value=c)},{default:T(()=>n[8]||(n[8]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"]),a(J,{onClick:n[4]||(n[4]=c=>q.value=!q.value),"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content","margin-top":"36px",padding:"13px"}},{default:T(()=>[a(b,{icon:"plus"})]),_:1})])]),t("div",{ref_key:"chart",ref:L,style:{width:"100%",height:"480px"}},null,512),n[11]||(n[11]=t("hr",null,null,-1)),t("div",Tt,[n[10]||(n[10]=t("label",null,[t("b",null,"Active Trunklines")],-1)),t("div",Mt,[(x(!0),I(me,null,he(m.value,(c,R)=>(x(),I("span",{class:"active-trunklines",key:R,onClick:re=>k(R),style:{margin:"5px"}},[t("span",null,Y(R),1)],8,Ct))),128))])])],64)}}}),$t=Me(At,[["__scopeId","data-v-f6bf75aa"]]),_t={key:0,class:"chart-layer"},Ot={class:"chart-layer-inner"},Gt={key:1,class:"live-window"},Dt={key:2,class:"live-window"},Lt={key:3,class:"drw-wd"},Pt={class:"row"},Nt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Vt={class:"col-md-12"},Ft={class:"col-md-12"},Bt={style:{display:"flex","flex-flow":"row nowrap",gap:"0.4rem"}},Ut={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Rt={class:"spot-reading-control"},jt={class:"spot-basket"},qt=["onClick","onDblclick"],Et={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},$e=1,zt=15,_e=2,Kt=16,Oe=3,Ge=4,De=5,Le=6,Pe=7,Ne=8,Ve=9,Fe=10,Be=11,Ue=12,Re=13,je=14,qe=17,oa=ye({__name:"MonitoringFol",setup(W){const L=fe();L.asideToggle(!0);const V=s(null),M=s(!1),y=s(350),f=s(0),P=s(30),$=s(7e3),d=s(!1),m=s(""),j=s(!1),h=s(24),N=s(!1),e=s([]),q=s(0),X=u=>Object.keys(u),E=()=>{q.value<e.value.length&&setTimeout(()=>{q.value++,E()},100)},G=()=>{const u=new Date,l=u.getFullYear(),g=String(u.getMonth()+1).padStart(2,"0"),i=String(u.getDate()).padStart(2,"0"),o=`${l}-${g}-${i}`;m.value=o};Ie(()=>{G(),E()});const k=()=>{N.value=!0},r=u=>{N.value=!1,e.value.some(g=>g[u.id])?L.notifyShowError("Selected spot already displayed"):e.value.push({[u.id]:u})},n=u=>{e.value=e.value.filter(l=>!l[u])};(()=>{e.value.push({1:{id:$e,name:"MGS BJG (1)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),e.value.push({15:{id:zt,name:"MGS BJG (2)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),e.value.push({2:{id:_e,name:"BOOSTER (MOS TPN)",desc:"Tempino",safemark:85,yMax:400,yInterval:50}}),e.value.push({16:{id:Kt,name:"MGS BJG (3)",desc:"Tempino",safemark:85,yMax:100,yInterval:10}}),e.value.push({3:{id:Oe,name:"MGS KAS",desc:"Kenali Asam Atas",safemark:140,yMax:400,yInterval:50}}),e.value.push({4:{id:Ge,name:"MOS TPN",desc:"Tempino",safemark:25,yMax:100,yInterval:10}}),e.value.push({5:{id:De,name:"GS 02 SGL",desc:"Sungai Gelam",safemark:287,yMax:500,yInterval:50}}),e.value.push({6:{id:Le,name:"GS 02 SGL (2)",desc:"Sungai Gelam",safemark:0,yMax:400,yInterval:50}}),e.value.push({7:{id:Pe,name:"GS 02 SGL (3)",desc:"Sungai Gelam",safemark:0,yMax:200,yInterval:50}}),e.value.push({8:{id:Ne,name:"GS 01 KTT",desc:"Ketaling",safemark:242,yMax:500,yInterval:50}}),e.value.push({9:{id:Ve,name:"MGS TPN",desc:"Tempino",safemark:43,yMax:300,yInterval:50}}),e.value.push({10:{id:Fe,name:"0 KM SP BETUNG",desc:"Betung",safemark:0,yMax:400,yInterval:50}}),e.value.push({11:{id:Be,name:"5.3 KM SIMP. PASAR GAJAH (5.3)",desc:"Pasar Gajah",safemark:0,yMax:300,yInterval:50}}),e.value.push({12:{id:Ue,name:"9.5 KM SANDTRAP II (4.2)",desc:"Sandtrap",safemark:0,yMax:100,yInterval:10}}),e.value.push({13:{id:Re,name:"13.8 KM MGS BJG (4.3)",desc:"Bajubang",safemark:0,yMax:200,yInterval:20}}),e.value.push({14:{id:je,name:"MINIATUR (CIP)",desc:"Miniatur",safemark:0,yMax:100,yInterval:10}}),e.value.push({17:{id:qe,name:"CF KAS",desc:"Kenali Asam Atas",safemark:140,yMax:100,yInterval:10}})})();const c=s(!1),R=()=>{c.value=!c.value},re=()=>{c.value=!1,L.notifyShow("Options has been applied")},K=u=>{const l=document.getElementById("chart"+u);l&&l.scrollIntoView({behavior:"smooth",block:"start"})},C=()=>{M.value=!M.value},Q=u=>{e.value=e.value.filter(l=>!l[u])};let _=s([]);const v=u=>{_.value.push({id:u});const l=`spotdata-${u}`,g=document.querySelector(`.${l}`);g?(g.style.background="red",g.style.color="white"):console.warn(`Element dengan class ${l} gak ditemukan bro!`)},D=u=>{const l=`spotdata-${u}`,g=document.querySelector(`.${l}`);g?(g.style.background="#000",g.style.color="#fff"):console.warn(`Element dengan class ${l} gak ditemukan bro!`);const i=_.value.findIndex(o=>o.id===u);_.value.splice(i,1)},O=u=>{const l=Object.keys(u)[0];return u[l].id},z=()=>{d.value=!1},F=()=>{d.value=!0},te=u=>new Date(u).toISOString(),ae=async u=>new Promise(async(l,g)=>{try{const i={id:u,date:te(m.value),timespan:h.value+"",firstrequest:!1},o=await ge.post(ve.baseEnd+"api/Data/getsingledata",i,{headers:ve.headerSet}),H=o.data.map(xe=>{const He=xe.timestamp.replace(".",":").split("T")[1],[Je,We]=He.split(":");return`${Je}:${We}`}),be=o.data.map(xe=>parseFloat(xe.psiValue).toFixed(2));l({cats:H,series:be})}catch(i){g(i)}}),oe=s(!1),A=u=>{d.value=!0,oe.value=!0,setTimeout(()=>{p(u)},3e3)},p=async u=>{const l=Se(V.value);await ae(u).then(g=>{const i=g.cats,o=g.series,H={graphic:[{type:"rect",shape:{x:0,y:0,width:l.getWidth(),height:l.getHeight()},style:{fill:"transparent"}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:i},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:o,color:i.map(()=>`${L.accentColor}`)}]};l.setOption(H),l.setOption({yAxis:{name:"Pressure (PSI)"}})})},Z=()=>{oe.value=!1},S=s(!1),ce=()=>{S.value=!1},ne=s(!1),w=s(!1);return B(()=>w.value,()=>{w.value?d.value=!0:d.value=!1}),(u,l)=>{const g=we("font-awesome-icon");return x(),I(me,null,[w.value?(x(),I("div",_t,[t("div",Ot,[t("button",{onClick:l[0]||(l[0]=i=>w.value=!w.value),type:"button",class:"drwclose"},[a(g,{icon:"close"})]),a($t,{"date-filter":m.value,"time-filter":h.value},null,8,["date-filter","time-filter"])])])):ie("",!0),ne.value?(x(),I("div",Gt,[t("div",{class:se(["live-window-inner",[`${U(L).mTheme}`]])},[t("button",{onClick:l[1]||(l[1]=i=>ne.value=!ne.value),type:"button",class:"drwclose"},[a(g,{icon:"close"})]),a(vt,{"date-filter":m.value,"time-filter":h.value},null,8,["date-filter","time-filter"])],2)])):ie("",!0),S.value?(x(),I("div",Dt,[t("div",{class:se(["live-window-inner",[`${U(L).mTheme}`]])},[t("button",{type:"button",class:"drwclose",onClick:ce},[a(g,{icon:"close"})]),a(ut,{"date-filter":m.value,"time-filter":h.value},null,8,["date-filter","time-filter"])],2)])):ie("",!0),oe.value?(x(),I("div",Lt,[t("div",{class:"drw-inner",style:de({background:`${U(L).themeDarkColor}`})},[t("button",{onClick:Z,type:"button",style:de({color:`${U(L).accentColor}`}),class:"drwclose"},[a(g,{icon:"close"})],4),t("div",{ref_key:"eCharts",ref:V,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ie("",!0),a(ke,{"mod-show":N.value,"onUpdate:modShow":l[2]||(l[2]=i=>N.value=i),"mod-title":"Select spot"},{default:T(()=>[a(ee,{onOnItemSelect:r,"item-id":$e,"item-name":"MGS BJG","item-desc":"Bajubang","item-safemark":136}),a(ee,{onOnItemSelect:r,"item-id":_e,"item-name":"BOOSTER (MOS TPN)","item-desc":"Tempino","item-safemark":85}),a(ee,{onOnItemSelect:r,"item-id":Oe,"item-name":"MGS KAS","item-desc":"Kenali Asam Atas","item-safemark":140}),a(ee,{onOnItemSelect:r,"item-id":Ge,"item-name":"MOS TPN","item-desc":"Tempino","item-safemark":25}),a(ee,{onOnItemSelect:r,"item-id":De,"item-name":"GS 02 SGL","item-desc":"Sungai Gelam","item-safemark":287}),a(ee,{onOnItemSelect:r,"item-id":Le,"item-name":"GS 02 SGL (2)","item-desc":"Sungai Gelam","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":Pe,"item-name":"GS 02 SGL (3)","item-desc":"Sungai Gelam","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":Ne,"item-name":"GS 01 KTT","item-desc":"Ketaling","item-safemark":242}),a(ee,{onOnItemSelect:r,"item-id":Ve,"item-name":"MGS TPN","item-desc":"Tempino","item-safemark":43}),a(ee,{onOnItemSelect:r,"item-id":Fe,"item-name":"0 KM SP BETUNG","item-desc":"Betung","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":Be,"item-name":"5.3 KM SIMP. PASAR GAJAH (5.3)","item-desc":"Pasar Gajah","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":Ue,"item-name":"9.5 KM SANDTRAP II (4.2)","item-desc":"Sandtrap","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":Re,"item-name":"13.8 KM MGS BJG (4.3)","item-desc":"Bajubang","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":je,"item-name":"MINIATUR (CIP)","item-desc":"Miniatur","item-safemark":0}),a(ee,{onOnItemSelect:r,"item-id":qe,"item-name":"CF KAS","item-desc":"Kenali Asam Atas","item-safemark":0})]),_:1},8,["mod-show"]),a(ke,{"mod-show":c.value,"onUpdate:modShow":l[8]||(l[8]=i=>c.value=i),"mod-title":"Global Chart Preference"},{default:T(()=>[t("p",{style:de({color:U(L).accentColor})},"These parameters applies to all displayed charts",4),a(ue,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":y.value,"onUpdate:modelValue":l[3]||(l[3]=i=>y.value=i)},null,8,["model-value"]),a(ue,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":f.value,"onUpdate:modelValue":l[4]||(l[4]=i=>f.value=i)},null,8,["model-value"]),a(ue,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":P.value,"onUpdate:modelValue":l[5]||(l[5]=i=>P.value=i)},null,8,["model-value"]),a(ue,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":$.value,"onUpdate:modelValue":l[6]||(l[6]=i=>$.value=i)},null,8,["model-value"]),a(pe,{"in-label":"Curve Type","model-value":j.value,"onUpdate:modelValue":l[7]||(l[7]=i=>j.value=i)},{default:T(()=>l[14]||(l[14]=[t("option",{value:!0},"Smooth",-1),t("option",{value:!1},"Straight",-1)])),_:1},8,["model-value"]),a(J,{onClick:re,"bt-type":"button","bt-disabled":!1},{default:T(()=>l[15]||(l[15]=[le("Dismiss")])),_:1})]),_:1},8,["mod-show"]),a(Xe,{"context-title":"Monitoring FOL"},{default:T(()=>[t("div",Pt,[t("div",Nt,[a(J,{onClick:R,"bt-size":"small","bt-disabled":!1},{default:T(()=>[a(g,{icon:"sliders"}),l[16]||(l[16]=le(" Global Chart Preferences"))]),_:1})]),t("div",Vt,[a(ue,{"in-type":"date","in-label":"Date Filter","model-value":m.value,"onUpdate:modelValue":l[9]||(l[9]=i=>m.value=i)},null,8,["model-value"]),a(pe,{"in-label":"Time Range Filter","model-value":h.value,"onUpdate:modelValue":l[10]||(l[10]=i=>h.value=i)},{default:T(()=>l[17]||(l[17]=[t("option",{value:"1"},"1 Hour",-1),t("option",{value:"3"},"3 Hours",-1),t("option",{value:"6"},"6 Hours",-1),t("option",{value:"12"},"12 Hours",-1),t("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),t("div",Ft,[t("div",Bt,[a(J,{onClick:l[11]||(l[11]=i=>S.value=!S.value),"bt-size":"small","bt-disabled":!1},{default:T(()=>[a(g,{icon:"chart-line"}),l[18]||(l[18]=le(" Live Monitor "))]),_:1}),a(J,{"bt-size":"small",onClick:l[12]||(l[12]=i=>ne.value=!ne.value),"bt-disabled":!1},{default:T(()=>[a(g,{icon:"chart-line"}),l[19]||(l[19]=le("Trunkline Monitor "))]),_:1}),a(J,{"bt-size":"small",onClick:l[13]||(l[13]=i=>w.value=!w.value),"bt-disabled":!1},{default:T(()=>[a(g,{icon:"chart-line"}),l[20]||(l[20]=le("Chart Layer "))]),_:1})])]),t("div",Ut,[a(J,{onClick:k,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:T(()=>[a(g,{icon:"add"}),l[21]||(l[21]=le(" Add Chart"))]),_:1})]),t("div",Rt,[a(J,{onClick:z,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[a(g,{icon:"play"}),l[22]||(l[22]=le(" Resume All"))]),_:1}),a(J,{onClick:F,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:T(()=>[a(g,{icon:"pause"}),l[23]||(l[23]=le(" Pause All"))]),_:1})]),t("div",jt,[(x(!0),I(me,null,he(e.value,(i,o)=>(x(),I("span",{title:"Click to navigate to this spot",key:o,class:se(["spot-data",[`spotdata-${O(i)}`]]),onClick:H=>K(Object.keys(i)[0]),onDblclick:H=>n(Object.keys(i)[0])},[(x(!0),I(me,null,he(X(i),H=>(x(),I("span",{key:H},Y(i[H].name+" - "+i[H].desc),1))),128))],42,qt))),128))]),e.value.length?(x(),I("div",Et,[a(J,{onClick:C,"bt-disabled":!1,"bt-size":"small"},{default:T(()=>[a(g,{icon:M.value?"grip-vertical":"expand"},null,8,["icon"]),le(" "+Y(M.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ie("",!0),t("div",{style:{},class:se(M.value?"chart-basket-gridview":"chart-basket-fullview")},[(x(!0),I(me,null,he(e.value,(i,o)=>(x(),I("div",{key:o},[(x(!0),I(me,null,he(X(i),H=>(x(),I("div",{key:H,class:"chart-wrapper"},[o<q.value?(x(),ze(bt,{key:0,onOnChartReady:E,id:"chart"+Object.keys(i)[0],"chart-name":i[H].name,"filter-date":m.value,"filter-time":h.value,"safe-mark":i[H].safemark,"spot-id":H,"curve-type":j.value,"y-max":i[H].yMax,"y-min":f.value,"tick-amount":P.value,"y-interval":i[H].yInterval,"data-fetch-interval":$.value,gridview:M.value,"is-data-paused":d.value,onOnDrawingMode:A,onOnChartClose:Q,onOnPause:v,onOnResume:D},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ie("",!0)]))),128))]))),128))],2)])])]),_:1})],64)}}});export{oa as default};
