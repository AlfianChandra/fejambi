import{u as he}from"./theme-Br9iCieN.js";import{d as Ke,i as Se}from"./index-CehbAW_K.js";import{_ as Xe}from"./MainWrapperView.vue_vue_type_style_index_0_lang-CuG_rfIe.js";import{_ as re}from"./InputView.vue_vue_type_style_index_0_lang-BdDjHGtL.js";import{_ as pe}from"./SelectView.vue_vue_type_style_index_0_lang-Bo5uGWJV.js";import{_ as J}from"./ButtonView.vue_vue_type_style_index_0_computed_true_lang-Xp57zHN1.js";import{_ as ke}from"./ModalEditorView.vue_vue_type_style_index_0_lang-CkCukYrO.js";import{d as ge,r as xe,o as w,c as M,g as t,h as ce,u as E,t as Q,a,q as ae,w as I,e as s,l as F,j as Ie,k as Te,n as de,m as ue,p as fe,_ as Me,y as Ce,D as Ae,f as je,F as me,z as ve}from"./index-Cbx-QfWS.js";import{a as ye}from"./axios-BimPEqV4.js";import{t as ze}from"./trunk-CuaAdnZJ.js";import{_ as Ye}from"./BatteryView.vue_vue_type_style_index_0_computed_true_lang-DgXOm88d.js";import{h as Ze}from"./moment-C5S46NFB.js";const Qe={class:"itemlist-wrapper"},et={class:"itemlist-group"},Z=ge({__name:"ItemList",props:{itemName:{type:String,required:!0},itemDesc:{type:String,required:!0},itemId:{type:[String,Number],required:!0},itemSafemark:{type:Number,default:0,required:!0}},emits:["onItemSelect"],setup(ne,{emit:P}){const R=he(),_=P,S=ne,h=()=>{_("onItemSelect",{id:S.itemId,name:S.itemName,desc:S.itemDesc})};return(N,G)=>{const d=xe("font-awesome-icon");return w(),M("div",Qe,[t("div",et,[t("span",{style:ce({color:E(R).accentColor})},[t("b",null,Q(ne.itemName),1)],4),t("span",{style:ce({color:E(R).accentColor})},[a(d,{icon:"map-pin"}),ae(" "+Q(ne.itemDesc),1)],4)]),a(J,{onClick:h,"bt-disabled":!1,"bt-size":"small"},{default:I(()=>[a(d,{icon:"plus"})]),_:1})])}}}),tt={class:"chart-containers"},at={class:"col-md-4"},lt={class:"loaderparent"},st=ge({__name:"LiveMonitorChart",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(ne){const P=ne,R=s(!0),_=s(null),S=s(null),h=he(),N=s(15),G=s([]),d=s(0),m=s("Building chart..."),U=s("Initializing..."),f=s(0),L=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),e=C=>new Date(C).toISOString(),q=async()=>new Promise((C,k)=>{ye.get(fe.baseEnd+"api/Spot/getspots").then(r=>{C(r.data)}).catch(r=>{console.error(r),k(r)})});F(()=>_.value,async()=>{W(),await q().then(C=>{G.value=C})});const W=()=>{if(d.value=5,_.value){const C=Se(_.value);S.value=C,S.value.setOption(L.value)}},K=async()=>new Promise(async(C,k)=>{try{const r=[],o=new Set,g=G.value.length;let c=0;U.value="Setting up...";for(let T=0;T<G.value.length;T++){U.value=`Applying filter for ${G.value[T].spotName}...`;const X={id:G.value[T].id+"",date:e(P.dateFilter),timespan:P.timeFilter+"",firstrequest:R.value},A=await ye.post(fe.baseEnd+"api/Data/getsingledata",X);for(let j=0;j<A.data.length;j++)setTimeout(()=>{f.value++},1);const v=A.data.map(j=>{const ee=j.timestamp.replace(".",":").split("T")[1],[te,le]=ee.split(":"),$=`${te}:${le}`;return o.add($),$}),D=A.data.map(j=>parseFloat(j.psiValue));r.push({psies:D,categories:v}),c+=1;const O=c/g*90;d.value=Math.round(O)}const B=Array.from(o).sort((T,X)=>{const[A,v]=T.split(":").map(Number),[D,O]=X.split(":").map(Number);return A!==D?A-D:v-O}),oe=r.map((T,X)=>{const A={};T.categories.forEach((D,O)=>{A[D]=T.psies[O]});const v=B.map(D=>A[D]!==void 0?parseFloat(A[D]):null);return{name:`${G.value[X].spotName}`,type:"line",data:v,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:1},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(D){let O=0;const j=r[D.seriesIndex].psies.length;for(let V=0;V<j;V++)r[D.seriesIndex].psies[V]!==null&&(O=r[D.seriesIndex].psies[V].toFixed(2));return O}}}}),z={backgroundColor:"transparent",legend:{data:oe.map(T=>({name:T.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:B,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(T){return T.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${h.accentColor}`,rotate:-45,interval:T=>{const[X,A]=B[T].split(":").map(Number);return A%N.value===0},formatter:function(T){return T}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:oe};C(z)}catch(r){console.error(r),k(r)}});return F(()=>G.value,async()=>{await K().then(C=>{S.value.setOption(C),U.value="Drawing series...",d.value=99.99,setTimeout(()=>{d.value=100,f.value=0},2e3)})}),F(()=>N.value,async()=>{d.value=5,U.value="Setting up...",m.value="Options & filter updated. Rebuilding chart with new series...",S.value&&(S.value=null),W(),setTimeout(async()=>{await K().then(C=>{S.value.setOption(C),d.value=99.99,U.value="Drawing series...",setTimeout(()=>{d.value=100,f.value=0},2e3)})},1e3)}),Ie(()=>{W()}),Te(()=>{_.value&&Ke(_.value)}),(C,k)=>(w(),M("div",tt,[t("h3",{style:{padding:"15px"},class:de([`${E(h).textTheme}`])},k[1]||(k[1]=[t("b",null,"Live Monitor Chart",-1)]),2),t("div",at,[a(pe,{"in-label":"X-Axis Time Split","model-value":N.value,"onUpdate:modelValue":k[0]||(k[0]=r=>N.value=r)},{default:I(()=>k[2]||(k[2]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),t("div",{ref_key:"chart",ref:_,style:{width:"100%",position:"relative",height:"90%"}},null,512),d.value!=100?(w(),M("div",{key:0,class:de(["chartloader",[`${E(h).mTheme}`]])},[k[3]||(k[3]=t("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),t("span",{class:de([`${E(h).textTheme}`])},Q(m.value)+" ("+Q(f.value)+" objects collected)",3),t("span",{style:ce({color:`${E(h).accentColorSecondary}`})},Q(U.value),5),t("div",lt,[t("span",{style:ce({width:`${d.value}%`,background:`${E(h).accentColor}`}),class:"loaderinner"},null,4)])],2)):ue("",!0)]))}}),nt=Me(st,[["__scopeId","data-v-78c03b71"]]),ot={class:"chart-containers"},it={class:"col-md-4"},rt={class:"loaderparent"},ut=ge({__name:"LiveMonitorSegmentView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(ne){const P=ze(),R=ne,_=s(!0),S=s(null),h=s(null),N=he(),G=s(15),d=s([]),m=s(0),U=s("Building chart..."),f=s("Initializing..."),L=s(0),e=s("trunk1"),q=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),W=s({tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",data:[],scale:!0,boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}}}),K=o=>new Date(o).toISOString(),C=()=>{d.value=P.getTrunk(e.value).spot};F(()=>S.value,()=>{k(),C()});const k=()=>{if(m.value=5,S.value){const o=Se(S.value);h.value=o,h.value.setOption(q.value)}},r=async()=>new Promise(async(o,g)=>{try{const c=[],B=new Set,oe=d.value.length;let z=0;f.value="Setting up...";for(let v=0;v<d.value.length;v++){f.value=`Applying filter for ${d.value[v].spotName}...`;const D={id:d.value[v].id+"",date:K(R.dateFilter),timespan:R.timeFilter+"",firstrequest:_.value},O=await ye.post(fe.baseEnd+"api/Data/getsingledata",D);for(let te=0;te<O.data.length;te++)setTimeout(()=>{L.value++},1);const j=O.data.map(te=>{const $=te.timestamp.replace(".",":").split("T")[1],[p,Y]=$.split(":"),b=`${p}:${Y}`;return B.add(b),b}),V=O.data.map(te=>parseFloat(te.psiValue));c.push({psies:V,categories:j}),z+=1;const ee=z/oe*90;m.value=Math.round(ee)}const T=Array.from(B).sort((v,D)=>{const[O,j]=v.split(":").map(Number),[V,ee]=D.split(":").map(Number);return O!==V?O-V:j-ee}),X=c.map((v,D)=>{const O={};v.categories.forEach((V,ee)=>{O[V]=v.psies[ee]});const j=T.map(V=>O[V]!==void 0?parseFloat(O[V]):null);return{name:`${d.value[D].spotName}`,type:"line",data:j,smooth:!1,sampling:"average",symbol:"none",lineStyle:{width:2},endLabel:{show:!0,fontSize:12,color:"#fff",offset:[-5,0],padding:3,borderRadius:3,textBorderWidth:0,backgroundColor:"inherit",formatter:function(V){let ee=0;const te=c[V.seriesIndex].psies.length;for(let le=0;le<te;le++)c[V.seriesIndex].psies[le]!==null&&(ee=c[V.seriesIndex].psies[le].toFixed(2));return ee}}}}),A={backgroundColor:"transparent",legend:{data:X.map(v=>({name:v.name,icon:"circle",textStyle:{color:"inherit"}}))},xAxis:{type:"category",data:T,scale:!0,alignTicks:!0,name:"Time",axisPointer:{value:"2016-10-7",snap:!0,label:{show:!0,formatter:function(v){return v.value}},handle:{show:!0}},axisTick:{show:!0,alignWithLabel:!0},axisLabel:{color:`${N.accentColor}`,rotate:-45,interval:v=>{const[D,O]=T[v].split(":").map(Number);return O%G.value===0},formatter:function(v){return v}},boundaryGap:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},yAxis:{type:"value",axisTick:{show:!0},axisLine:{show:!0},scale:!0,splitLine:{show:!0,lineStyle:{color:"#55555555"}}},series:X};o(A)}catch(c){console.error(c),g(c)}});return F(()=>d.value,async()=>{await r().then(o=>{h.value.setOption(o),f.value="Drawing series...",m.value=99.99,setTimeout(()=>{m.value=100,L.value=0},2e3)})}),F(()=>G.value,async()=>{m.value=5,f.value="Setting up...",U.value="Options & filter updated. Rebuilding chart with new series...",h.value&&(h.value=null),k(),setTimeout(async()=>{await r().then(o=>{h.value.setOption(o),m.value=99.99,f.value="Drawing series...",setTimeout(()=>{m.value=100,L.value=0},2e3)})},1e3)}),Ie(()=>{k()}),Te(()=>{S.value&&Ke(S.value)}),F(()=>e.value,()=>{d.value=P.getTrunk(e.value).spot,h.value.clear(),h.value.setOption(W),k()}),(o,g)=>(w(),M("div",ot,[t("h3",{style:{padding:"15px"},class:de([`${E(N).textTheme}`])},g[2]||(g[2]=[t("b",null,"Live Monitor Chart",-1)]),2),t("div",it,[a(pe,{"in-label":"Select Spot","model-value":e.value,"onUpdate:modelValue":g[0]||(g[0]=c=>e.value=c)},{default:I(()=>g[3]||(g[3]=[t("option",{value:"trunk1"},"MGS BJG - BOOSTER",-1),t("option",{value:"trunk2"},"MGS KAS - MOS SPPP",-1),t("option",{value:"trunk3"},"SGL LINE",-1),t("option",{value:"trunk4"},"BETUNG - BAJUBANG",-1)])),_:1},8,["model-value"]),a(pe,{"in-label":"X-Axis Time Split","model-value":G.value,"onUpdate:modelValue":g[1]||(g[1]=c=>G.value=c)},{default:I(()=>g[4]||(g[4]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"])]),t("div",{ref_key:"chart",ref:S,style:{width:"100%",position:"relative",height:"100%"}},null,512),m.value!=100?(w(),M("div",{key:0,class:de(["chartloader",[`${E(N).mTheme}`]])},[g[5]||(g[5]=t("img",{style:{"border-radius":"1000px"},src:"https://digitalsynopsis.com/wp-content/uploads/2016/06/loading-animations-preloader-gifs-ui-ux-effects-10.gif"},null,-1)),t("span",{class:de([`${E(N).textTheme}`])},Q(U.value)+" ("+Q(L.value)+" objects collected)",3),t("span",{style:ce({color:`${E(N).accentColorSecondary}`})},Q(f.value),5),t("div",rt,[t("span",{style:ce({width:`${m.value}%`,background:`${E(N).accentColor}`}),class:"loaderinner"},null,4)])],2)):ue("",!0)]))}}),dt=Me(ut,[["__scopeId","data-v-da253721"]]),ct={style:{display:"flex","flex-flow":"column","margin-bottom":"1rem"}},mt=["id"],pt={key:0,style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end",gap:"0.5rem","margin-bottom":"1.5rem"}},vt={contenteditable:"true",spellcheck:"false"},ft=ge({__name:"ChartView2",props:{filterDate:{type:String,required:!0},filterTime:{type:Number,required:!0},spotId:{type:String,required:!0},chartName:{type:String,required:!0},yMax:{type:Number,required:!0,default:350},yMin:{type:Number,required:!0,default:0},gridview:{type:Boolean,default:!1},tickAmount:{type:Number,default:100},dataFetchInterval:{type:Number,default:1e4},curveType:{type:Boolean,default:!1},safeMark:{type:Number,default:0},isDataPaused:Boolean,showUis:{type:Boolean,default:!0},yInterval:{type:Number,default:0}},emits:["onChartClose","onChartReady","onPause","onResume","onDrawingMode"],setup(ne,{emit:P}){const R=s([]),_=s([]),S=P,h=he(),N=s(!1),G=s(!0),d=s(null),m=s(null),U=s(!1),f=s(!1);let L;const e=ne,q=s(e.safeMark),W=s(!1),K=s(e.yMax),C=s(e.yMin),k=s(e.tickAmount),r=s(50),o=s(e.dataFetchInterval),g=s(e.curveType),c=s(!0),B=s(!0);function oe($,p){return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"cross",axis:"auto",label:{show:!0}}},xAxis:[{type:"category",interval:k.value,axisLine:{show:!0,lineStyle:{color:h.accentColor}},splitLine:{show:B,lineStyle:{color:"#ddd",type:"dashed"}},axisTick:{show:!0},boundaryGap:!1,axisLabel:{rotate:45},data:[]}],yAxis:[{type:"value",min:C,max:K,minorTick:{show:!0},axisTick:{show:!0},minorSplitLine:{show:c,lineStyle:{color:"#ddd",type:"dashed"}},interval:e.yInterval,axisLine:{show:!0,lineStyle:{color:h.accentColor}},axisLabel:{formatter:"{value}"}}],toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"Save as Image",name:"PSI Data",type:"png",pixelRatio:2},dataZoom:{show:!0,title:{zoom:"Zoom",back:"Reset Zoom"}},magicType:{show:!0,type:["line","bar"],title:{line:"Line Chart",bar:"Bar Chart"}}}},series:[{name:"PSI Data",type:"line",symbol:"none",data:[],smooth:e.curveType,lineStyle:{width:1.2,join:"miter",miterLimit:3,cap:"round"},tooltip:{position:["50%","50%"]},endLabel:{show:!0,distance:0,formatter:function(Y){const b=Y.dataIndex,ie=z.value.series[0].data;console.log(ie);let se=0;for(let i=0;i<ie.length;i++)ie[i]>se&&(se=ie[i]);let x=0,u=0;for(let i=0;i<ie.length;i++){const n=parseInt(ie[i]);(parseInt(e.spotId)==1&&n>=128&&n<=150||parseInt(e.spotId)==2&&n>=70&&n<=100||parseInt(e.spotId)==3&&n>=120&&n<=150||parseInt(e.spotId)==4&&n>=16&&n<=38||parseInt(e.spotId)==5&&n>=250&&n<=300||parseInt(e.spotId)==6&&n>=225&&n<=250||parseInt(e.spotId)==7&&n>=50&&n<=100||parseInt(e.spotId)==8&&n>=200&&n<=260||parseInt(e.spotId)==9&&n>=38&&n<=50||parseInt(e.spotId)==10&&n>=10&&n<=56||parseInt(e.spotId)==11&&n>=7&&n<=35||parseInt(e.spotId)==12&&n>=38&&n<=50||parseInt(e.spotId)==13&&n>=3&&n<=30||parseInt(e.spotId)==14&&n>=38&&n<=50||parseInt(e.spotId)==15&&n>=90&&n<=120||parseInt(e.spotId)==16&&n>=30&&n<=60)&&(x+=n,u++)}const l=x/u,y=ie.length-1;if(b===y){const i=Y.value,n=se,be=(n-i)/n*100;return`Curr: ${Y.value}
Avg: ${l.toFixed(2)}
Del: ${be>0?"-"+be.toFixed(2):"+"+be.toFixed(2)}%`}return""},color:"black",backgroundColor:"white",padding:5,borderRadius:5}},{name:"Safe Mark",type:"line",tooltip:{trigger:"item"},lineStyle:{color:"red",type:"solid"},markLine:{symbol:"none",label:{show:!1},lineStyle:{color:"red",type:"dashed"},data:[{yAxis:q.value}]}}]}}F(()=>q.value,()=>{var $;z.value.series[1].markLine.data[0].yAxis=q.value,($=m.value)==null||$.setOption(z.value)});const z=s(oe(e.yMax,e.curveType));F(()=>[K.value,C.value,k.value,o.value,g.value,r.value,c.value,B.value],()=>{m.value.setOption(z.value)});const T=()=>{var $;!m.value&&d.value&&(m.value=Se(d.value)),($=m.value)==null||$.setOption(z.value)},X=$=>new Date($).toISOString(),A=async()=>{var p;const $={id:e.spotId,date:X(e.filterDate),timespan:e.filterTime+""};try{const b=(await ye.post(fe.baseEnd+"api/Data/getalldata",$)).data,ie=b.map(x=>{const l=x.timestamp.replace(".",":").split("T")[1],[y,i]=l.split(":");return`${y}:${i}`}),se=b.map(x=>parseFloat(x.psiValue).toFixed(2)).map(x=>parseFloat(x));R.value=ie,_.value=se,se.length?(U.value=!1,z.value.xAxis[0].data=ie,z.value.series[0].data=se,(p=m.value)==null||p.setOption(z.value)):(U.value=!0,G.value=!1)}catch(Y){console.error("Error fetching chart data:",Y)}},v=()=>{const $=new Date().toISOString().slice(0,10);if(e.filterDate.slice(0,10)!==$){L&&clearInterval(L);return}else L&&clearInterval(L),L=setInterval(()=>{f.value||A()},o.value)};F(()=>d.value,()=>{d.value&&T()}),F(()=>e.gridview,()=>{m.value&&setTimeout(()=>{var $;($=m.value)==null||$.resize()},500)}),F(()=>e.dataFetchInterval,()=>{o.value=e.dataFetchInterval,v()}),F(()=>[d.value],()=>{A(),v()}),Te(()=>{clearInterval(L)});let D=null;F(()=>[e.filterDate,e.filterTime,e.yMax,e.yMin,e.tickAmount,e.curveType],()=>{D&&clearTimeout(D),D=setTimeout(()=>{K.value=e.yMax,C.value=e.yMin,k.value=e.tickAmount,g.value=e.curveType,o.value=e.dataFetchInterval,z.value=oe(e.yMax,e.curveType),G.value=!0,N.value=!1},300)});let O=null;F(()=>[K.value,C.value,k.value,o.value,g.value],()=>{O&&clearTimeout(O),O=setTimeout(()=>{A()},500)}),h.$subscribe(($,p)=>{setTimeout(()=>{A()},2e3)});const j=()=>{S("onChartClose",e.spotId)},V=()=>{W.value=!W.value},ee=()=>{W.value=!1},te=()=>{f.value=!f.value,f.value?S("onPause",e.spotId):S("onResume",e.spotId)};F(()=>[e.isDataPaused],()=>{f.value=e.isDataPaused,f.value?S("onPause",e.spotId):S("onResume",e.spotId)}),F(()=>f.value,()=>{f.value?S("onPause",e.spotId):S("onResume",e.spotId)}),F(()=>h.asideVisible,()=>{m.value&&setTimeout(()=>{var $;($=m.value)==null||$.resize()},500)});const le=()=>{S("onDrawingMode",e.spotId)};return($,p)=>{const Y=xe("font-awesome-icon");return w(),M(me,null,[a(ke,{"mod-show":W.value,"onUpdate:modShow":p[9]||(p[9]=b=>W.value=b),"mod-title":`${e.chartName} Preferences`},{default:I(()=>[a(re,{"in-type":"number","in-label":"Safemark","model-value":q.value,"onUpdate:modelValue":p[0]||(p[0]=b=>q.value=b)},null,8,["model-value"]),a(re,{"in-type":"number","in-label":"Y-Axis Max Tick","model-value":K.value,"onUpdate:modelValue":p[1]||(p[1]=b=>K.value=b)},null,8,["model-value"]),a(re,{"in-type":"number","in-label":"Y-Axis Min Tick","model-value":C.value,"onUpdate:modelValue":p[2]||(p[2]=b=>C.value=b)},null,8,["model-value"]),a(re,{"in-type":"number","in-label":"Y-Axis Interval","model-value":r.value,"onUpdate:modelValue":p[3]||(p[3]=b=>r.value=b)},null,8,["model-value"]),a(re,{"in-type":"number","in-label":"X-Axis Tick Amount","model-value":k.value,"onUpdate:modelValue":p[4]||(p[4]=b=>k.value=b)},null,8,["model-value"]),a(re,{"in-type":"number","in-label":"Data Update Interval (Milisecond)","model-value":o.value,"onUpdate:modelValue":p[5]||(p[5]=b=>o.value=b)},null,8,["model-value"]),a(pe,{"in-label":"Curve Type","model-value":g.value,"onUpdate:modelValue":p[6]||(p[6]=b=>g.value=b)},{default:I(()=>p[10]||(p[10]=[t("option",{value:"true"},"Smooth",-1),t("option",{value:"false"},"Straight",-1)])),_:1},8,["model-value"]),t("div",ct,[t("label",null,[Ce(t("input",{type:"checkbox","onUpdate:modelValue":p[7]||(p[7]=b=>c.value=b)},null,512),[[Ae,c.value]]),p[11]||(p[11]=ae(" Show Y-Axis Minor Split "))]),t("label",null,[Ce(t("input",{type:"checkbox","onUpdate:modelValue":p[8]||(p[8]=b=>B.value=b)},null,512),[[Ae,B.value]]),p[12]||(p[12]=ae(" Show X-Axis Split "))])]),a(J,{onClick:ee,"bt-type":"button","bt-disabled":!1},{default:I(()=>p[13]||(p[13]=[ae("Dismiss")])),_:1})]),_:1},8,["mod-show","mod-title"]),t("div",{id:`chart${e.spotId}`,style:ce({width:e.gridview?E(h).asideVisible?"680px":"600.5px":"100%"}),class:de(["chartwrap",f.value?"chartwrap-paused":""])},[e.showUis?(w(),M("div",pt,[a(J,{onClick:le,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:I(()=>[a(Y,{icon:"edit"})]),_:1}),a(J,{onClick:te,"bt-type":"button","bt-size":"small","bt-disabled":!1},{default:I(()=>[a(Y,{icon:f.value?"pause":"play"},null,8,["icon"])]),_:1}),_.value.length?(w(),je(J,{key:0,onClick:V,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:I(()=>[a(Y,{icon:"sliders"})]),_:1})):ue("",!0),a(J,{onClick:j,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:I(()=>[a(Y,{icon:"close"})]),_:1})])):ue("",!0),a(Ye,{"id-spot":parseInt(e.spotId)},null,8,["id-spot"]),t("h4",{style:ce({textAlign:"center",color:E(h).accentColor})},[t("b",vt,"SPOT: "+Q(e.chartName),1)],4),_.value.length?(w(),M("p",{key:1,style:{"text-align":"center","margin-bottom":"5px"},class:de(E(h).textTheme)}," Displaying data for last "+Q(e.filterTime)+" hour(s) on "+Q(e.filterDate),3)):ue("",!0),t("div",{ref_key:"chartRef",ref:d,style:{width:"100%",height:"600px"}},null,512)],14,mt)],64)}}}),yt={class:"cl-filter"},ht={key:0,class:"trunk-selector"},gt={style:{width:"500px",display:"flex",padding:"15px","flex-flow":"column"}},bt=["value"],St={style:{width:"500px",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem",position:"relative"}},xt={style:{display:"flex","flex-flow":"column","align-items":"center"}},wt={style:{display:"flex","flex-flow":"row wrap","justify-content":"center"}},kt=["onClick"],It=ge({__name:"ChartLayerView",props:{dateFilter:{type:String,required:!0},timeFilter:{type:Number,required:!0}},setup(ne){const P=s(null),R=s(null),_=s(ze().getAllTrunk());s(Object.keys(_)),he();const S=r=>new Date(r).toISOString(),h=ne,N=s(h.dateFilter),G=s("15"),d=s({legend:{show:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",name:"Time",data:[],nameGap:40,boundaryGap:0,nameLocation:"center",axisLabel:{show:!0,rotate:45,interval:r=>e.value[r]===void 0?!1:e.value[r].split(":")[1]%G.value===0},axisSplitLine:{show:!0,lineStyle:{type:"solid"}},axisLine:{show:!0,lineStyle:{type:"solid"}}},yAxis:{type:"value",min:0,max:550,interval:50,minorTick:{show:!0},scale:!0,nameLocation:"center",nameGap:50,boundaryGap:0,splitLine:{show:!0,lineStyle:{type:"solid",color:"#00000055"}},minorSplitLine:{show:!0,lineStyle:{type:"dashed",color:"#00000022"}},axisTick:{show:!0},name:"Pressure (PSI)",axisLine:{show:!0}},series:[]});F(()=>G.value,()=>{d.value.xAxis.axisLabel.interval=r=>e.value[r].split(":")[1]%G.value===0,f()}),F(()=>N.value,()=>{Object.keys(m.value).length>0&&K()});const m=s({}),U=s(),f=()=>{R.value.setOption(d.value)};F(()=>P.value,()=>{R.value=Se(P.value),f()});const L=s({}),e=s([]),q=s(!1),W=()=>{const r=U.value,o=_.value[r].name,g=_.value[r].spot;m.value[o]=g,q.value=!1,L.value={},e.value=[],R.value.clear(),d.value.series=[],R.value.setOption(d.value),K()},K=()=>{Object.keys(m.value).forEach(async r=>{const o=[],g=[];for(let c=0;c<m.value[r].length;c++){const oe={id:m.value[r][c].id+"",date:S(N.value),timespan:h.timeFilter+"",firstrequest:!0},T=(await ye.post(fe.baseEnd+"api/Data/getsingledata",oe)).data,X=T.map(v=>v.psiValue.toFixed(2));g.push({type:"line",data:X,smooth:!1,symbol:"none",name:m.value[r][c].name});const A=T.map(v=>Ze(v.timestamp).format("HH:mm"));for(let v=0;v<A.length;v++)o.includes(A[v])||o.push(A[v])}L.value[r]=g,e.value=o})};F(()=>L,()=>{R.value.clear(),R.value.setOption(d.value),C()},{deep:!0});const C=()=>{d.value.xAxis.data=e.value,Object.keys(L.value).forEach(r=>{for(let o=0;o<L.value[r].length;o++)d.value.series.push(L.value[r][o])}),R.value.setOption(d.value)},k=r=>{delete m.value[r],K()};return(r,o)=>{const g=xe("font-awesome-icon");return w(),M(me,null,[t("div",yt,[q.value?(w(),M("div",ht,[t("button",{onClick:o[0]||(o[0]=c=>q.value=!q.value),type:"button",class:"drwclose"},[a(g,{icon:"close"})]),t("div",gt,[o[7]||(o[7]=t("h5",null,[t("b",null,"Trunkline Preference")],-1)),a(pe,{"in-label":"Trunkline",style:{width:"100%"},"model-value":U.value,"onUpdate:modelValue":o[1]||(o[1]=c=>U.value=c)},{default:I(()=>[o[5]||(o[5]=t("option",{selected:"",value:""},"Select Trunkline...",-1)),(w(!0),M(me,null,ve(_.value,(c,B)=>(w(),M("option",{key:B,value:B},Q(c.name),9,bt))),128))]),_:1},8,["model-value"]),a(J,{onClick:W,"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content",padding:"13px",width:"170px"}},{default:I(()=>o[6]||(o[6]=[ae("Load into Chart")])),_:1})])])):ue("",!0),o[9]||(o[9]=t("h3",null,[t("b",null,"Chart Layer")],-1)),t("div",St,[a(re,{"in-type":"date","in-label":"Date Filter","model-value":N.value,"onUpdate:modelValue":o[2]||(o[2]=c=>N.value=c)},null,8,["model-value"]),a(pe,{"in-label":"X-Axis Gap",style:{width:"100%"},"model-value":G.value,"onUpdate:modelValue":o[3]||(o[3]=c=>G.value=c)},{default:I(()=>o[8]||(o[8]=[t("option",{value:"5"},"5 Minutes",-1),t("option",{value:"10"},"10 Minutes",-1),t("option",{value:"15"},"15 Minutes",-1),t("option",{value:"30"},"30 Minutes",-1),t("option",{value:"45"},"45 Minutes",-1),t("option",{value:"60"},"1 Hour",-1)])),_:1},8,["model-value"]),a(J,{onClick:o[4]||(o[4]=c=>q.value=!q.value),"bt-disabled":!1,"bt-size":"small",style:{height:"fit-content","margin-top":"36px",padding:"13px"}},{default:I(()=>[a(g,{icon:"plus"})]),_:1})])]),t("div",{ref_key:"chart",ref:P,style:{width:"100%",height:"480px"}},null,512),o[11]||(o[11]=t("hr",null,null,-1)),t("div",xt,[o[10]||(o[10]=t("label",null,[t("b",null,"Active Trunklines")],-1)),t("div",wt,[(w(!0),M(me,null,ve(m.value,(c,B)=>(w(),M("span",{class:"active-trunklines",key:B,onClick:oe=>k(B),style:{margin:"5px"}},[t("span",null,Q(B),1)],8,kt))),128))])])],64)}}}),Tt=Me(It,[["__scopeId","data-v-e401e0fe"]]),Mt={key:0,class:"chart-layer"},Ct={class:"chart-layer-inner"},At={key:1,class:"live-window"},Ot={key:2,class:"live-window"},$t={key:3,class:"drw-wd"},_t={class:"row"},Gt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Dt={class:"col-md-12"},Lt={class:"col-md-12"},Pt={style:{display:"flex","flex-flow":"row nowrap",gap:"0.4rem"}},Nt={style:{display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Vt={class:"spot-reading-control"},Ft={class:"spot-basket"},Bt=["onClick","onDblclick"],Rt={key:0,style:{"margin-top":"1rem",display:"flex","flex-flow":"row nowrap","justify-content":"flex-end"}},Oe=1,Ut=15,$e=2,qt=16,_e=3,Ge=4,De=5,Le=6,Pe=7,Ne=8,Ve=9,Fe=10,Be=11,Re=12,Ue=13,qe=14,Ee=17,aa=ge({__name:"MonitoringFol",setup(ne){const P=he();P.asideToggle(!0);const R=s(null),_=s(!1),S=s(350),h=s(0),N=s(30),G=s(7e3),d=s(!1),m=s(""),U=s(!1),f=s(24),L=s(!1),e=s([]),q=s(0),W=u=>Object.keys(u),K=()=>{q.value<e.value.length&&setTimeout(()=>{q.value++,K()},100)},C=()=>{const u=new Date,l=u.getFullYear(),y=String(u.getMonth()+1).padStart(2,"0"),i=String(u.getDate()).padStart(2,"0"),n=`${l}-${y}-${i}`;m.value=n};Ie(()=>{C(),K()});const k=()=>{L.value=!0},r=u=>{L.value=!1,e.value.some(y=>y[u.id])?P.notifyShowError("Selected spot already displayed"):e.value.push({[u.id]:u})},o=u=>{e.value=e.value.filter(l=>!l[u])};(()=>{e.value.push({1:{id:Oe,name:"MGS BJG (1)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),e.value.push({15:{id:Ut,name:"MGS BJG (2)",desc:"Bajubang",safemark:136,yMax:200,yInterval:20}}),e.value.push({2:{id:$e,name:"BOOSTER (MOS TPN)",desc:"Tempino",safemark:85,yMax:400,yInterval:50}}),e.value.push({16:{id:qt,name:"MGS BJG (3)",desc:"Tempino",safemark:85,yMax:100,yInterval:10}}),e.value.push({3:{id:_e,name:"MGS KAS",desc:"Kenali Asam Atas",safemark:140,yMax:400,yInterval:50}}),e.value.push({4:{id:Ge,name:"MOS TPN",desc:"Tempino",safemark:25,yMax:100,yInterval:10}}),e.value.push({5:{id:De,name:"GS 02 SGL",desc:"Sungai Gelam",safemark:287,yMax:500,yInterval:50}}),e.value.push({6:{id:Le,name:"GS 02 SGL (2)",desc:"Sungai Gelam",safemark:0,yMax:400,yInterval:50}}),e.value.push({7:{id:Pe,name:"GS 02 SGL (3)",desc:"Sungai Gelam",safemark:0,yMax:200,yInterval:50}}),e.value.push({8:{id:Ne,name:"GS 01 KTT",desc:"Ketaling",safemark:242,yMax:500,yInterval:50}}),e.value.push({9:{id:Ve,name:"MGS TPN",desc:"Tempino",safemark:43,yMax:300,yInterval:50}}),e.value.push({10:{id:Fe,name:"0 KM SP BETUNG",desc:"Betung",safemark:0,yMax:400,yInterval:50}}),e.value.push({11:{id:Be,name:"5.3 KM SIMP. PASAR GAJAH (5.3)",desc:"Pasar Gajah",safemark:0,yMax:300,yInterval:50}}),e.value.push({12:{id:Re,name:"9.5 KM SANDTRAP II (4.2)",desc:"Sandtrap",safemark:0,yMax:100,yInterval:10}}),e.value.push({13:{id:Ue,name:"13.8 KM MGS BJG (4.3)",desc:"Bajubang",safemark:0,yMax:200,yInterval:20}}),e.value.push({14:{id:qe,name:"MINIATUR (CIP)",desc:"Miniatur",safemark:0,yMax:100,yInterval:10}}),e.value.push({17:{id:Ee,name:"CF KAS",desc:"Kenali Asam Atas",safemark:140,yMax:100,yInterval:10}})})();const c=s(!1),B=()=>{c.value=!c.value},oe=()=>{c.value=!1,P.notifyShow("Options has been applied")},z=u=>{const l=document.getElementById("chart"+u);l&&l.scrollIntoView({behavior:"smooth",block:"start"})},T=()=>{_.value=!_.value},X=u=>{e.value=e.value.filter(l=>!l[u])};let A=s([]);const v=u=>{A.value.push({id:u});const l=`spotdata-${u}`,y=document.querySelector(`.${l}`);y?(y.style.background="red",y.style.color="white"):console.warn(`Element dengan class ${l} gak ditemukan bro!`)},D=u=>{const l=`spotdata-${u}`,y=document.querySelector(`.${l}`);y?(y.style.background="#000",y.style.color="#fff"):console.warn(`Element dengan class ${l} gak ditemukan bro!`);const i=A.value.findIndex(n=>n.id===u);A.value.splice(i,1)},O=u=>{const l=Object.keys(u)[0];return u[l].id},j=()=>{d.value=!1},V=()=>{d.value=!0},ee=u=>new Date(u).toISOString(),te=async u=>new Promise(async(l,y)=>{try{const i={id:u,date:ee(m.value),timespan:f.value+"",firstrequest:!1},n=await ye.post(fe.baseEnd+"api/Data/getsingledata",i),H=n.data.map(we=>{const He=we.timestamp.replace(".",":").split("T")[1],[Je,We]=He.split(":");return`${Je}:${We}`}),be=n.data.map(we=>parseFloat(we.psiValue).toFixed(2));l({cats:H,series:be})}catch(i){y(i)}}),le=s(!1),$=u=>{d.value=!0,le.value=!0,setTimeout(()=>{p(u)},3e3)},p=async u=>{const l=Se(R.value);await te(u).then(y=>{const i=y.cats,n=y.series,H={graphic:[{type:"rect",shape:{x:0,y:0,width:l.getWidth(),height:l.getHeight()},style:{fill:"transparent"}}],backgroundColor:"#fff",tooltip:{trigger:"axis"},xAxis:{type:"category",data:i},yAxis:{type:"value",min:0,max:350},series:[{type:"line",data:n,color:i.map(()=>`${P.accentColor}`)}]};l.setOption(H),l.setOption({yAxis:{name:"Pressure (PSI)"}})})},Y=()=>{le.value=!1},b=s(!1),ie=()=>{b.value=!1},se=s(!1),x=s(!1);return F(()=>x.value,()=>{x.value?d.value=!0:d.value=!1}),(u,l)=>{const y=xe("font-awesome-icon");return w(),M(me,null,[x.value?(w(),M("div",Mt,[t("div",Ct,[t("button",{onClick:l[0]||(l[0]=i=>x.value=!x.value),type:"button",class:"drwclose"},[a(y,{icon:"close"})]),a(Tt,{"date-filter":m.value,"time-filter":f.value},null,8,["date-filter","time-filter"])])])):ue("",!0),se.value?(w(),M("div",At,[t("div",{class:de(["live-window-inner",[`${E(P).mTheme}`]])},[t("button",{onClick:l[1]||(l[1]=i=>se.value=!se.value),type:"button",class:"drwclose"},[a(y,{icon:"close"})]),a(dt,{"date-filter":m.value,"time-filter":f.value},null,8,["date-filter","time-filter"])],2)])):ue("",!0),b.value?(w(),M("div",Ot,[t("div",{class:de(["live-window-inner",[`${E(P).mTheme}`]])},[t("button",{type:"button",class:"drwclose",onClick:ie},[a(y,{icon:"close"})]),a(nt,{"date-filter":m.value,"time-filter":f.value},null,8,["date-filter","time-filter"])],2)])):ue("",!0),le.value?(w(),M("div",$t,[t("div",{class:"drw-inner",style:ce({background:`${E(P).themeDarkColor}`})},[t("button",{onClick:Y,type:"button",style:ce({color:`${E(P).accentColor}`}),class:"drwclose"},[a(y,{icon:"close"})],4),t("div",{ref_key:"eCharts",ref:R,style:{width:"100%",height:"100%",position:"relative"}},null,512)],4)])):ue("",!0),a(ke,{"mod-show":L.value,"onUpdate:modShow":l[2]||(l[2]=i=>L.value=i),"mod-title":"Select spot"},{default:I(()=>[a(Z,{onOnItemSelect:r,"item-id":Oe,"item-name":"MGS BJG","item-desc":"Bajubang","item-safemark":136}),a(Z,{onOnItemSelect:r,"item-id":$e,"item-name":"BOOSTER (MOS TPN)","item-desc":"Tempino","item-safemark":85}),a(Z,{onOnItemSelect:r,"item-id":_e,"item-name":"MGS KAS","item-desc":"Kenali Asam Atas","item-safemark":140}),a(Z,{onOnItemSelect:r,"item-id":Ge,"item-name":"MOS TPN","item-desc":"Tempino","item-safemark":25}),a(Z,{onOnItemSelect:r,"item-id":De,"item-name":"GS 02 SGL","item-desc":"Sungai Gelam","item-safemark":287}),a(Z,{onOnItemSelect:r,"item-id":Le,"item-name":"GS 02 SGL (2)","item-desc":"Sungai Gelam","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Pe,"item-name":"GS 02 SGL (3)","item-desc":"Sungai Gelam","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Ne,"item-name":"GS 01 KTT","item-desc":"Ketaling","item-safemark":242}),a(Z,{onOnItemSelect:r,"item-id":Ve,"item-name":"MGS TPN","item-desc":"Tempino","item-safemark":43}),a(Z,{onOnItemSelect:r,"item-id":Fe,"item-name":"0 KM SP BETUNG","item-desc":"Betung","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Be,"item-name":"5.3 KM SIMP. PASAR GAJAH (5.3)","item-desc":"Pasar Gajah","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Re,"item-name":"9.5 KM SANDTRAP II (4.2)","item-desc":"Sandtrap","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Ue,"item-name":"13.8 KM MGS BJG (4.3)","item-desc":"Bajubang","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":qe,"item-name":"MINIATUR (CIP)","item-desc":"Miniatur","item-safemark":0}),a(Z,{onOnItemSelect:r,"item-id":Ee,"item-name":"CF KAS","item-desc":"Kenali Asam Atas","item-safemark":0})]),_:1},8,["mod-show"]),a(ke,{"mod-show":c.value,"onUpdate:modShow":l[8]||(l[8]=i=>c.value=i),"mod-title":"Global Chart Preference"},{default:I(()=>[t("p",{style:ce({color:E(P).accentColor})},"These parameters applies to all displayed charts",4),a(re,{"in-label":"Y-Axis Max Tick Range","in-type":"number","model-value":S.value,"onUpdate:modelValue":l[3]||(l[3]=i=>S.value=i)},null,8,["model-value"]),a(re,{"in-label":"Y-Axis Min Tick Range","in-type":"number","model-value":h.value,"onUpdate:modelValue":l[4]||(l[4]=i=>h.value=i)},null,8,["model-value"]),a(re,{"in-label":"X-Axis Tick Amount","in-helper":"Greater value produces denser tick rates while lesser value loosen it but trims certain data in some points of time","in-type":"number","model-value":N.value,"onUpdate:modelValue":l[5]||(l[5]=i=>N.value=i)},null,8,["model-value"]),a(re,{"in-label":"Data Update Interval (Milisecond)","in-helper":"Higher value increases the delay while lower value decreases it. Warning: Lower value require more resources and may significantly affect client-side performance","in-type":"number","model-value":G.value,"onUpdate:modelValue":l[6]||(l[6]=i=>G.value=i)},null,8,["model-value"]),a(pe,{"in-label":"Curve Type","model-value":U.value,"onUpdate:modelValue":l[7]||(l[7]=i=>U.value=i)},{default:I(()=>l[14]||(l[14]=[t("option",{value:!0},"Smooth",-1),t("option",{value:!1},"Straight",-1)])),_:1},8,["model-value"]),a(J,{onClick:oe,"bt-type":"button","bt-disabled":!1},{default:I(()=>l[15]||(l[15]=[ae("Dismiss")])),_:1})]),_:1},8,["mod-show"]),a(Xe,{"context-title":"Monitoring FOL"},{default:I(()=>[t("div",_t,[t("div",Gt,[a(J,{onClick:B,"bt-size":"small","bt-disabled":!1},{default:I(()=>[a(y,{icon:"sliders"}),l[16]||(l[16]=ae(" Global Chart Preferences"))]),_:1})]),t("div",Dt,[a(re,{"in-type":"date","in-label":"Date Filter","model-value":m.value,"onUpdate:modelValue":l[9]||(l[9]=i=>m.value=i)},null,8,["model-value"]),a(pe,{"in-label":"Time Range Filter","model-value":f.value,"onUpdate:modelValue":l[10]||(l[10]=i=>f.value=i)},{default:I(()=>l[17]||(l[17]=[t("option",{value:"1"},"1 Hour",-1),t("option",{value:"3"},"3 Hours",-1),t("option",{value:"6"},"6 Hours",-1),t("option",{value:"12"},"12 Hours",-1),t("option",{value:"24"},"24 Hours",-1)])),_:1},8,["model-value"]),t("div",Lt,[t("div",Pt,[a(J,{onClick:l[11]||(l[11]=i=>b.value=!b.value),"bt-size":"small","bt-disabled":!1},{default:I(()=>[a(y,{icon:"chart-line"}),l[18]||(l[18]=ae(" Live Monitor "))]),_:1}),a(J,{"bt-size":"small",onClick:l[12]||(l[12]=i=>se.value=!se.value),"bt-disabled":!1},{default:I(()=>[a(y,{icon:"chart-line"}),l[19]||(l[19]=ae("Trunkline Monitor "))]),_:1}),a(J,{"bt-size":"small",onClick:l[13]||(l[13]=i=>x.value=!x.value),"bt-disabled":!1},{default:I(()=>[a(y,{icon:"chart-line"}),l[20]||(l[20]=ae("Chart Layer "))]),_:1})])]),t("div",Nt,[a(J,{onClick:k,"bt-type":"button","bt-disabled":!1,"bt-size":"small"},{default:I(()=>[a(y,{icon:"add"}),l[21]||(l[21]=ae(" Add Chart"))]),_:1})]),t("div",Vt,[a(J,{onClick:j,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:I(()=>[a(y,{icon:"play"}),l[22]||(l[22]=ae(" Resume All"))]),_:1}),a(J,{onClick:V,"bt-disabled":!1,"bt-type":"button","bt-size":"small"},{default:I(()=>[a(y,{icon:"pause"}),l[23]||(l[23]=ae(" Pause All"))]),_:1})]),t("div",Ft,[(w(!0),M(me,null,ve(e.value,(i,n)=>(w(),M("span",{title:"Click to navigate to this spot",key:n,class:de(["spot-data",[`spotdata-${O(i)}`]]),onClick:H=>z(Object.keys(i)[0]),onDblclick:H=>o(Object.keys(i)[0])},[(w(!0),M(me,null,ve(W(i),H=>(w(),M("span",{key:H},Q(i[H].name+" - "+i[H].desc),1))),128))],42,Bt))),128))]),e.value.length?(w(),M("div",Rt,[a(J,{onClick:T,"bt-disabled":!1,"bt-size":"small"},{default:I(()=>[a(y,{icon:_.value?"grip-vertical":"expand"},null,8,["icon"]),ae(" "+Q(_.value?"Grid chart view":"Full chart view"),1)]),_:1})])):ue("",!0),t("div",{style:{},class:de(_.value?"chart-basket-gridview":"chart-basket-fullview")},[(w(!0),M(me,null,ve(e.value,(i,n)=>(w(),M("div",{key:n},[(w(!0),M(me,null,ve(W(i),H=>(w(),M("div",{key:H,class:"chart-wrapper"},[n<q.value?(w(),je(ft,{key:0,onOnChartReady:K,id:"chart"+Object.keys(i)[0],"chart-name":i[H].name,"filter-date":m.value,"filter-time":f.value,"safe-mark":i[H].safemark,"spot-id":H,"curve-type":U.value,"y-max":i[H].yMax,"y-min":h.value,"tick-amount":N.value,"y-interval":i[H].yInterval,"data-fetch-interval":G.value,gridview:_.value,"is-data-paused":d.value,onOnDrawingMode:$,onOnChartClose:X,onOnPause:v,onOnResume:D},null,8,["id","chart-name","filter-date","filter-time","safe-mark","spot-id","curve-type","y-max","y-min","tick-amount","y-interval","data-fetch-interval","gridview","is-data-paused"])):ue("",!0)]))),128))]))),128))],2)])])]),_:1})],64)}}});export{aa as default};
